(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e2a9b58","chunk-2f5b1866","chunk-91584750","chunk-05a99c67","chunk-192165dd","chunk-2d2105d3","chunk-2d230fe7"],{"02db":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"教师姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入教师姓名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入手机号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.phone,callback:function(t){e.$set(e.queryParams,"phone",t)},expression:"queryParams.phone"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbteachers:scbteachers:add"],expression:"['scbteachers:scbteachers:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n      ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbteachers:scbteachers:edit"],expression:"['scbteachers:scbteachers:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改\n      ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbteachers:scbteachers:remove"],expression:"['scbteachers:scbteachers:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除\n      ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.scbteachersList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"名称",align:"center",prop:"name","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"手机号",align:"center",prop:"phone","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位",align:"center",prop:"postName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"更新时间",align:"center",prop:"updatedAt","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbteachers:scbteachers:edit"],expression:"['scbteachers:scbteachers:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改\n        ")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbteachers:scbteachers:remove"],expression:"['scbteachers:scbteachers:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"手机号"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"小程序密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"班级",prop:"classId"}},[a("el-cascader",{style:{width:"100%"},attrs:{options:e.deptOptions,props:e.classIdProps,placeholder:"请选择",clearable:""},model:{value:e.form.classId,callback:function(t){e.$set(e.form,"classId",t)},expression:"form.classId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.$forceUpdate()}},model:{value:e.form.postId,callback:function(t){e.$set(e.form,"postId",t)},expression:"form.postId"}},e._l(e.postOptions,(function(e){return a("el-option",{key:e.postId,attrs:{label:e.postName,value:e.postId,disabled:1==e.status}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{placeholder:"备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],i=a("4236"),n=a("af87"),o=a("924c"),l=(a("542c"),{name:"Scbteachers",data:function(){return{deptOptions:[],loading:!0,ids:[],single:!0,multiple:!0,total:0,title:"",open:!1,isEdit:!1,typeOptions:[],scbteachersList:[],postOptions:[],postIds:void 0,queryParams:{pageIndex:1,pageSize:10,id:void 0,name:void 0,phone:void 0,classId:void 0,postId:void 0,isDeleted:void 0},form:{},rules:{id:[{required:!0,message:"不能为空",trigger:"blur"}],name:[{required:!0,message:"名称不能为空",trigger:"blur"}],phone:[{required:!0,message:"手机号不能为空",trigger:"blur"}],classId:[{required:!0,message:"班级id不能为空",trigger:"blur"}],postId:[{required:!0,message:"岗位id不能为空",trigger:"blur"}]},classIdProps:{multiple:!1,label:"label",value:"value",children:"children"}}},created:function(){this.getList()},methods:{normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.deptId,label:e.deptName,children:e.children}},getTreeselect:function(e){var t=this;Object(n["c"])().then((function(e){t.deptOptions=t.getTreeData(e.data)}))},getTreeData:function(e){for(var t=0;t<e.length;t++)e[t].children.length<1?e[t].children=void 0:this.getTreeData(e[t].children);return e},getList:function(){var e=this;this.loading=!0,Object(i["e"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.scbteachersList=t.data.list,e.total=t.data.count,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,name:void 0,phone:void 0,classId:void 0,postId:void 0,remark:void 0,isDeleted:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){var e=this;this.reset(),this.getTreeselect("add"),this.open=!0,this.title="添加教职员工表",this.isEdit=!1,Object(o["d"])().then((function(t){e.postOptions=t.data}))},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect("update");var a=e.id||this.ids;Object(i["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改教职员工表",t.isEdit=!0,Object(o["d"])().then((function(e){t.postOptions=e.data}))}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.id?Object(i["f"])(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(i["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),c=l,u=a("2877"),d=Object(u["a"])(c,s,r,!1,null,null,null);t["default"]=d.exports},"036f":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:"height:"+e.height},[a("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.src,frameborder:"no",scrolling:"auto"}})])},r=[],i={name:"Build",data:function(){return{src:"https://sc.kenashua.com/form-generator",height:document.documentElement.clientHeight-94.5+"px;",loading:!0}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),230);var t=this;window.onresize=function(){t.height=document.documentElement.clientHeight-94.5+"px;"}}},n=i,o=a("2877"),l=Object(o["a"])(n,s,r,!1,null,null,null);t["default"]=l.exports},"0f40":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"系统模块",prop:"title"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入系统模块",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"操作人员",prop:"operName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入操作人员",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.operName,callback:function(t){e.$set(e.queryParams,"operName",t)},expression:"queryParams.operName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"businessType"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"操作类型",clearable:"",size:"small"},model:{value:e.queryParams.businessType,callback:function(t){e.$set(e.queryParams,"businessType",t)},expression:"queryParams.businessType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"操作状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysoperlog:remove"],expression:"['system:sysoperlog:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysoperlog:remove"],expression:"['system:sysoperlog:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysoperlog:export"],expression:"['system:sysoperlog:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"日志编号",width:"80",align:"center",prop:"operId"}}),e._v(" "),a("el-table-column",{attrs:{label:"系统模块",align:"center",prop:"title"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作类型",width:"80",align:"center",prop:"businessType",formatter:e.typeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"请求方式",width:"80",align:"center",prop:"requestMethod"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作人员",align:"center",prop:"operName"}}),e._v(" "),a("el-table-column",{attrs:{label:"主机",align:"center",prop:"operIp",width:"130","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"操作地点",align:"center",prop:"operLocation"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作日期",align:"center",prop:"operTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.operTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysoperlog:query"],expression:"['system:sysoperlog:query']"}],attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row,t.index)}}},[e._v("详细")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:"操作日志详细",visible:e.open,width:"700px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作模块："}},[e._v(e._s(e.form.title)+" / "+e._s(e.typeFormat(e.form)))]),e._v(" "),a("el-form-item",{attrs:{label:"登录信息："}},[e._v(e._s(e.form.operName)+" / "+e._s(e.form.operIp)+" / "+e._s(e.form.operLocation))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"请求地址："}},[e._v(e._s(e.form.operUrl))]),e._v(" "),a("el-form-item",{attrs:{label:"请求方式："}},[e._v(e._s(e.form.requestMethod))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"耗时："}},[e._v(e._s(e.form.latencyime))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"操作方法："}},[e._v(e._s(e.form.method))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"请求参数："}},[e._v(e._s(e.form.operParam))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"返回参数："}},[e._v(e._s(e.form.jsonResult))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作状态："}},[0===e.form.status?a("div",[e._v("正常")]):1===e.form.status?a("div",[e._v("失败")]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作时间："}},[e._v(e._s(e.parseTime(e.form.operTime)))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[1===e.form.status?a("el-form-item",{attrs:{label:"异常信息："}},[e._v(e._s(e.form.errorMsg))]):e._e()],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.open=!1}}},[e._v("关 闭")])],1)],1)],1)},r=[],i=a("b775");function n(e){return Object(i["a"])({url:"/api/v1/operloglist",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/api/v1/operlog/"+e,method:"delete"})}function l(){return Object(i["a"])({url:"/api/v1/operlog/clean",method:"delete"})}var c=a("ed08"),u={name:"Operlog",data:function(){return{loading:!0,ids:[],multiple:!0,total:0,list:[],open:!1,typeOptions:[],statusOptions:[],dateRange:[],form:{},queryParams:{pageIndex:1,pageSize:10,title:void 0,operName:void 0,businessType:void 0,status:void 0}}},created:function(){var e=this;this.getList(),this.getDicts("sys_oper_type").then((function(t){e.typeOptions=t.data})),this.getDicts("sys_common_status").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,n(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.list=t.data.list,e.total=t.data.count,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.businessType)},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.operId})),this.multiple=!e.length},handleView:function(e){this.open=!0,this.form=e},handleDelete:function(e){var t=this,a=e.operId||this.ids;this.$confirm('是否确认删除日志编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return o(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleClean:function(){var e=this;this.$confirm("是否确认清空所有操作日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return l()})).then((function(){e.getList(),e.msgSuccess("清空成功")})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有操作日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([a.e("chunk-23b9c8dc"),a.e("chunk-748b566e")]).then(a.bind(null,"4bf8d")).then((function(t){var a=["日志编号","系统模块","操作类型","请求方式","操作人员","主机","操作地点","操作状态","操作url","操作日期"],s=["operId","title","businessType","method","operName","operIp","operLocation","status","operUrl","operTime"],r=e.list,i=Object(c["c"])(s,r);t.export_json_to_excel({header:a,data:i,filename:"操作日志",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))}))}}},d=u,m=a("2877"),p=Object(m["a"])(d,s,r,!1,null,null,null);t["default"]=p.exports},1:function(e,t){},"1a27":function(e,t,a){"use strict";var s=a("37a3"),r=a.n(s);r.a},"1db4":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[e._m(0),e._v(" "),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[e._v("OOPS!")]),e._v(" "),e._m(1),e._v(" "),a("div",{staticClass:"bullshit__headline"},[e._v(e._s(e.message))]),e._v(" "),a("div",{staticClass:"bullshit__info"},[e._v("Please check that the URL you entered is correct, or click the button below to return to the homepage.")]),e._v(" "),a("a",{staticClass:"bullshit__return-home",attrs:{href:""}},[e._v("Back to home")])])])])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pic-404"},[s("img",{staticClass:"pic-404__parent",attrs:{src:a("a36b"),alt:"404"}}),e._v(" "),s("img",{staticClass:"pic-404__child left",attrs:{src:a("26fc"),alt:"404"}}),e._v(" "),s("img",{staticClass:"pic-404__child mid",attrs:{src:a("26fc"),alt:"404"}}),e._v(" "),s("img",{staticClass:"pic-404__child right",attrs:{src:a("26fc"),alt:"404"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bullshit__info"},[e._v("All rights reserved\n        "),a("a",{staticStyle:{color:"#20a0ff"},attrs:{href:"https://wallstreetcn.com",target:"_blank"}},[e._v("wallstreetcn")])])}],i={name:"Page404",computed:{message:function(){return"The webmaster said that you can not enter this page..."}}},n=i,o=(a("35e7"),a("2877")),l=Object(o["a"])(n,s,r,!1,null,"26fcd89f",null);t["default"]=l.exports},"1eb1":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:"height:"+e.height},[a("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.src,frameborder:"no",scrolling:"auto"}})])},r=[],i={name:"Swagger",data:function(){return{src:"https://sc.kenashua.com/swagger/index.html",height:document.documentElement.clientHeight-94.5+"px;",loading:!0}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),230);var t=this;window.onresize=function(){t.height=document.documentElement.clientHeight-94.5+"px;"}}},n=i,o=a("2877"),l=Object(o["a"])(n,s,r,!1,null,null,null);t["default"]=l.exports},"1eef":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"basicInfoForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入仓库名称"},model:{value:e.info.tableName,callback:function(t){e.$set(e.info,"tableName",t)},expression:"info.tableName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.tableComment,callback:function(t){e.$set(e.info,"tableComment",t)},expression:"info.tableComment"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"实体类名称",prop:"className"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.className,callback:function(t){e.$set(e.info,"className",t)},expression:"info.className"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作者",prop:"functionAuthor"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.functionAuthor,callback:function(t){e.$set(e.info,"functionAuthor",t)},expression:"info.functionAuthor"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"isLogicalDelete"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          是否逻辑删除\n          "),a("el-tooltip",{attrs:{content:"目前只支持逻辑删除",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-radio-group",{model:{value:e.info.isLogicalDelete,callback:function(t){e.$set(e.info,"isLogicalDelete",t)},expression:"info.isLogicalDelete"}},[a("el-radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"}},[e._v("否")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},["1"==e.info.isLogicalDelete?a("el-form-item",{attrs:{label:"逻辑删除字段",prop:"logicalDeleteColumn"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.logicalDeleteColumn,callback:function(t){e.$set(e.info,"logicalDeleteColumn",t)},expression:"info.logicalDeleteColumn"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.info.remark,callback:function(t){e.$set(e.info,"remark",t)},expression:"info.remark"}})],1)],1)],1)],1)},r=[],i={name:"BasicInfoForm",props:{info:{type:Object,default:null}},data:function(){return{rules:{tableName:[{required:!0,message:"请输入表名称",trigger:"blur"}],tableComment:[{required:!0,message:"请输入表描述",trigger:"blur"}],className:[{required:!0,message:"请输入实体类名称",trigger:"blur"}],functionAuthor:[{required:!0,message:"请输入作者",trigger:"blur"}]}}}},n=i,o=a("2877"),l=Object(o["a"])(n,s,r,!1,null,null,null);t["default"]=l.exports},2:function(e,t){},2017:function(e,t,a){"use strict";var s=a("b12d"),r=a.n(s);r.a},"24e2":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"errPage-container"},[a("el-button",{staticClass:"pan-back-btn",attrs:{icon:"el-icon-arrow-left"},on:{click:e.back}},[e._v("\n    返回\n  ")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("h1",{staticClass:"text-jumbo text-ginormous"},[e._v("\n        Oops!\n      ")]),e._v("\n      gif来源"),a("a",{attrs:{href:"https://zh.airbnb.com/",target:"_blank"}},[e._v("airbnb")]),e._v(" 页面\n      "),a("h2",[e._v("你没有权限去该页面")]),e._v(" "),a("h6",[e._v("如有不满请联系你领导")]),e._v(" "),a("ul",{staticClass:"list-unstyled"},[a("li",[e._v("或者你可以去:")]),e._v(" "),a("li",{staticClass:"link-type"},[a("router-link",{attrs:{to:"/dashboard"}},[e._v("\n            回首页\n          ")])],1),e._v(" "),a("li",{staticClass:"link-type"},[a("a",{attrs:{href:"https://www.taobao.com/"}},[e._v("随便看看")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.dialogVisible=!0}}},[e._v("点我看图")])])])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("img",{attrs:{src:e.errGif,width:"313",height:"428",alt:"Girl has dropped her ice cream."}})])],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisible,title:"随便看"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{staticClass:"pan-img",attrs:{src:e.ewizardClap}})])],1)},r=[],i=a("cc6c"),n=a.n(i),o={name:"Page401",data:function(){return{errGif:n.a+"?"+ +new Date,ewizardClap:"https://wpimg.wallstcn.com/007ef517-bafd-4066-aae4-6883632d9646",dialogVisible:!1}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:"/dashboard"}):this.$router.go(-1)}}},l=o,c=(a("1a27"),a("2877")),u=Object(c["a"])(l,s,r,!1,null,"35ca77fc",null);t["default"]=u.exports},"24eb":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"导入表",visible:e.visible,width:"800px",top:"5vh"},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入表名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableName,callback:function(t){e.$set(e.queryParams,"tableName",t)},expression:"queryParams.tableName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入表描述",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableComment,callback:function(t){e.$set(e.queryParams,"tableComment",t)},expression:"queryParams.tableComment"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",[a("el-table",{ref:"table",attrs:{data:e.dbTableList,height:"260px"},on:{"row-click":e.clickRow,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tableName",label:"表名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tableComment",label:"表描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createdAt",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updatedAt",label:"更新时间"}})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleImportTable}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")])],1)],1)},r=[],i=a("4aab"),n={data:function(){return{loading:!1,visible:!1,tables:[],total:0,dbTableList:[],queryParams:{pageIndex:1,pageSize:10,tableName:void 0,tableComment:void 0}}},methods:{show:function(){this.getList(),this.visible=!0},clickRow:function(e){this.$refs.table.toggleRowSelection(e)},handleSelectionChange:function(e){this.tables=e.map((function(e){return e.tableName}))},getList:function(){var e=this;Object(i["d"])(this.queryParams).then((function(t){200===t.code&&(e.dbTableList=t.data.list,e.total=t.data.count)}))},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleImportTable:function(){var e=this;this.loading=!0,this.visible=!0,Object(i["c"])({tables:this.tables.join(",")}).then((function(t){e.msgSuccess(t.msg),200===t.code&&(e.visible=!1,e.$emit("ok")),e.loading=!1}))}}},o=n,l=a("2877"),c=Object(l["a"])(o,s,r,!1,null,null,null);t["default"]=c.exports},2544:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"todoapp"},[a("header",{staticClass:"header"},[a("input",{staticClass:"new-todo",attrs:{autocomplete:"off",placeholder:"Todo List"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addTodo(t)}}})]),e._v(" "),a("section",{directives:[{name:"show",rawName:"v-show",value:e.todos.length,expression:"todos.length"}],staticClass:"main"},[a("input",{staticClass:"toggle-all",attrs:{id:"toggle-all",type:"checkbox"},domProps:{checked:e.allChecked},on:{change:function(t){return e.toggleAll({done:!e.allChecked})}}}),e._v(" "),a("label",{attrs:{for:"toggle-all"}}),e._v(" "),a("ul",{staticClass:"todo-list"},e._l(e.filteredTodos,(function(t,s){return a("todo",{key:s,attrs:{todo:t},on:{toggleTodo:e.toggleTodo,editTodo:e.editTodo,deleteTodo:e.deleteTodo}})})),1)]),e._v(" "),a("footer",{directives:[{name:"show",rawName:"v-show",value:e.todos.length,expression:"todos.length"}],staticClass:"footer"},[a("span",{staticClass:"todo-count"},[a("strong",[e._v(e._s(e.remaining))]),e._v("\n      "+e._s(e._f("pluralize")(e.remaining,"item"))+" left\n    ")]),e._v(" "),a("ul",{staticClass:"filters"},e._l(e.filters,(function(t,s){return a("li",{key:s},[a("a",{class:{selected:e.visibility===s},on:{click:function(t){t.preventDefault(),e.visibility=s}}},[e._v(e._s(e._f("capitalize")(s)))])])})),0)])])},r=[],i=(a("ac6a"),a("ced4")),n="todos",o={all:function(e){return e},active:function(e){return e.filter((function(e){return!e.done}))},completed:function(e){return e.filter((function(e){return e.done}))}},l=[{text:"star this repository",done:!1},{text:"fork this repository",done:!1},{text:"follow author",done:!1},{text:"vue-element-admin",done:!0},{text:"vue",done:!0},{text:"element-ui",done:!0},{text:"axios",done:!0},{text:"webpack",done:!0}],c={components:{Todo:i["default"]},filters:{pluralize:function(e,t){return 1===e?t:t+"s"},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},data:function(){return{visibility:"all",filters:o,todos:l}},computed:{allChecked:function(){return this.todos.every((function(e){return e.done}))},filteredTodos:function(){return o[this.visibility](this.todos)},remaining:function(){return this.todos.filter((function(e){return!e.done})).length}},methods:{setLocalStorage:function(){window.localStorage.setItem(n,JSON.stringify(this.todos))},addTodo:function(e){var t=e.target.value;t.trim()&&(this.todos.push({text:t,done:!1}),this.setLocalStorage()),e.target.value=""},toggleTodo:function(e){e.done=!e.done,this.setLocalStorage()},deleteTodo:function(e){this.todos.splice(this.todos.indexOf(e),1),this.setLocalStorage()},editTodo:function(e){var t=e.todo,a=e.value;t.text=a,this.setLocalStorage()},clearCompleted:function(){this.todos=this.todos.filter((function(e){return!e.done})),this.setLocalStorage()},toggleAll:function(e){var t=this,a=e.done;this.todos.forEach((function(e){e.done=a,t.setLocalStorage()}))}}},u=c,d=(a("76f2"),a("2877")),m=Object(d["a"])(u,s,r,!1,null,null,null);t["default"]=m.exports},"26fc":function(e,t,a){e.exports=a.p+"static/img/404_cloud.0f4bc32b.png"},2707:function(e,t,a){"use strict";var s=a("5b25"),r=a.n(s);r.a},"2a33":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("服务器信息")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("值")])])])]),e._v(" "),a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("服务器架构")])]),e._v(" "),a("td",[e.server.os?a("div",{staticClass:"cell"},[e._v(e._s(e.server.os.arch))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("操作系统")])]),e._v(" "),a("td",[e.server.os?a("div",{staticClass:"cell"},[e._v(e._s(e.server.os.goOs))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("核心数")])]),e._v(" "),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.cpuNum))]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("内存")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("值")])])])]),e._v(" "),a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("总内存")])]),e._v(" "),a("td",[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.total)+"G")]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("已用内存")])]),e._v(" "),a("td",[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.used)+"G")]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("使用率")])]),e._v(" "),a("td",[e.server.mem?a("div",{staticClass:"cell",class:{"text-danger":e.server.mem.usage>80}},[e._v(e._s(e.server.mem.usage)+"%")]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("go运行环境")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("值")])])])]),e._v(" "),a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("go version")])]),e._v(" "),a("td",[e.server.os?a("div",{staticClass:"cell"},[e._v(e._s(e.server.os.version))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("Goroutine")])]),e._v(" "),a("td",[e.server.os?a("div",{staticClass:"cell"},[e._v(e._s(e.server.os.numGoroutine))]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("磁盘状态")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("值")])])])]),e._v(" "),e.server.disk?a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("总共")])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e.server.disk.total))])])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("可用")])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e.server.disk.free))])])])]):e._e()])])])],1)],1)],1)},r=[],i=a("b775");function n(){return Object(i["a"])({url:"/api/v1/monitor/server",method:"get"})}var o={name:"Server",data:function(){return{loading:[],server:[]}},created:function(){this.getList(),this.openLoading()},methods:{getList:function(){var e=this;n().then((function(t){e.server=t,e.loading.close()}))},openLoading:function(){this.loading=this.$loading({lock:!0,text:"拼命读取中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}}},l=o,c=a("2877"),u=Object(c["a"])(l,s,r,!1,null,null,null);t["default"]=u.exports},"2dde":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[a("el-input",{model:{value:e.user.nickName,callback:function(t){e.$set(e.user,"nickName",t)},expression:"user.nickName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{attrs:{maxlength:"11"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{maxlength:"50"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:e.user.sex,callback:function(t){e.$set(e.user,"sex",t)},expression:"user.sex"}},[a("el-radio",{attrs:{label:"0"}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.close}},[e._v("关闭")])],1)],1)},r=[],i=a("b150"),n={props:{user:{type:Object}},data:function(){return{rules:{nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(i["k"])(e.user).then((function(t){200===t.code?e.msgSuccess("修改成功"):e.msgError(t.msg)}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/index"})}}},o=n,l=a("2877"),c=Object(l["a"])(o,s,r,!1,null,null,null);t["default"]=c.exports},"2f3f":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%","padding-top":"15px"},attrs:{data:e.list}},[a("el-table-column",{attrs:{label:"Order_No","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n      "+e._s(e._f("orderNoFilter")(t.row.order_no))+"\n    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"Price",width:"195",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n      ¥"+e._s(e._f("toThousandFilter")(t.row.price))+"\n    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"Status",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("el-tag",{attrs:{type:e._f("statusFilter")(s.status)}},[e._v("\n        "+e._s(s.status)+"\n      ")])]}}])})],1)},r=[],i=a("b775");function n(e){return Object(i["a"])({url:"/transaction/list",method:"get",params:e})}var o={filters:{statusFilter:function(e){var t={success:"success",pending:"danger"};return t[e]},orderNoFilter:function(e){return e.substring(0,30)}},data:function(){return{list:null}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;n().then((function(t){e.list=t.data.items.slice(0,8)}))}}},l=o,c=a("2877"),u=Object(c["a"])(l,s,r,!1,null,null,null);t["default"]=u.exports},"2fbb":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["orders:orders:add"],expression:"['orders:orders:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n            ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["orders:orders:edit"],expression:"['orders:orders:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改\n            ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["orders:orders:remove"],expression:"['orders:orders:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除\n            ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.ordersList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["orders:orders:edit"],expression:"['orders:orders:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改\n                ")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["orders:orders:remove"],expression:"['orders:orders:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n                ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"订单号",prop:"orderNo"}},[a("el-input",{attrs:{placeholder:"订单号"},model:{value:e.form.orderNo,callback:function(t){e.$set(e.form,"orderNo",t)},expression:"form.orderNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"第三方流水号",prop:"tradeNo"}},[a("el-input",{attrs:{placeholder:"第三方流水号"},model:{value:e.form.tradeNo,callback:function(t){e.$set(e.form,"tradeNo",t)},expression:"form.tradeNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户id",prop:"userId"}},[a("el-input",{attrs:{placeholder:"用户id"},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品id",prop:"goodsId"}},[a("el-input",{attrs:{placeholder:"商品id"},model:{value:e.form.goodsId,callback:function(t){e.$set(e.form,"goodsId",t)},expression:"form.goodsId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"查询次数",prop:"carTimes"}},[a("el-input",{attrs:{placeholder:"查询次数"},model:{value:e.form.carTimes,callback:function(t){e.$set(e.form,"carTimes",t)},expression:"form.carTimes"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单金额",prop:"orderAmount"}},[a("el-input",{attrs:{placeholder:"订单金额"},model:{value:e.form.orderAmount,callback:function(t){e.$set(e.form,"orderAmount",t)},expression:"form.orderAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"总金额",prop:"totalAmount"}},[a("el-input",{attrs:{placeholder:"总金额"},model:{value:e.form.totalAmount,callback:function(t){e.$set(e.form,"totalAmount",t)},expression:"form.totalAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"优惠金额",prop:"discountAmount"}},[a("el-input",{attrs:{placeholder:"优惠金额"},model:{value:e.form.discountAmount,callback:function(t){e.$set(e.form,"discountAmount",t)},expression:"form.discountAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"实际支付金额",prop:"actualAmount"}},[a("el-input",{attrs:{placeholder:"实际支付金额"},model:{value:e.form.actualAmount,callback:function(t){e.$set(e.form,"actualAmount",t)},expression:"form.actualAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"0支付宝, 1微信支付",prop:"payType"}},[a("el-input",{attrs:{placeholder:"0支付宝, 1微信支付"},model:{value:e.form.payType,callback:function(t){e.$set(e.form,"payType",t)},expression:"form.payType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"0充值 1消费",prop:"type"}},[a("el-input",{attrs:{placeholder:"0充值 1消费"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"优惠券id",prop:"couponId"}},[a("el-input",{attrs:{placeholder:"优惠券id"},model:{value:e.form.couponId,callback:function(t){e.$set(e.form,"couponId",t)},expression:"form.couponId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"0:未支付 10:已支付 20:订单作废 30:已发货 40: 已退款",prop:"status"}},[a("el-input",{attrs:{placeholder:"0:未支付 10:已支付 20:订单作废 30:已发货 40: 已退款"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支付时间",prop:"paidAt"}},[a("el-input",{attrs:{placeholder:"支付时间"},model:{value:e.form.paidAt,callback:function(t){e.$set(e.form,"paidAt",t)},expression:"form.paidAt"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],i=a("b775");function n(e){return Object(i["a"])({url:"/api/v1/ordersList",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/api/v1/orders/"+e,method:"get"})}function l(e){return Object(i["a"])({url:"/api/v1/orders",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/api/v1/orders",method:"put",data:e})}function u(e){return Object(i["a"])({url:"/api/v1/orders/"+e,method:"delete"})}var d={name:"Config",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,title:"",open:!1,isEdit:!1,typeOptions:[],ordersList:[],queryParams:{pageIndex:1,pageSize:10},form:{},rules:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,n(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.ordersList=t.data.list,e.total=t.data.count,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,orderNo:void 0,tradeNo:void 0,userId:void 0,goodsId:void 0,carTimes:void 0,orderAmount:void 0,totalAmount:void 0,discountAmount:void 0,actualAmount:void 0,payType:void 0,type:void 0,couponId:void 0,status:void 0,paidAt:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加订单表",this.isEdit=!1},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;o(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改订单表",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.id?c(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):l(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},m=d,p=a("2877"),f=Object(p["a"])(m,s,r,!1,null,null,null);t["default"]=f.exports},3:function(e,t){},3225:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入字典名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictName,callback:function(t){e.$set(e.queryParams,"dictName",t)},expression:"queryParams.dictName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字典类型",prop:"dictType"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入字典类型",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictType,callback:function(t){e.$set(e.queryParams,"dictType",t)},expression:"queryParams.dictType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"字典状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysconfig:add"],expression:"['system:sysconfig:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysconfig:edit"],expression:"['system:sysconfig:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysconfig:remove"],expression:"['system:sysconfig:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysconfig:export"],expression:"['system:sysconfig:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.typeList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典编号",width:"80",align:"center",prop:"dictId"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典名称",align:"center",prop:"dictName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"字典类型",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"link-type",attrs:{to:{name:"DictData",params:{dictId:t.row.dictId}}}},[a("span",[e._v(e._s(t.row.dictType))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysconfig:edit"],expression:"['system:sysconfig:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysconfig:remove"],expression:"['system:sysconfig:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictName"}},[a("el-input",{attrs:{placeholder:"请输入字典名称",disabled:e.isEdit},model:{value:e.form.dictName,callback:function(t){e.$set(e.form,"dictName",t)},expression:"form.dictName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字典类型",prop:"dictType"}},[a("el-input",{attrs:{placeholder:"请输入字典类型",disabled:e.isEdit},model:{value:e.form.dictType,callback:function(t){e.$set(e.form,"dictType",t)},expression:"form.dictType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],i=a("ed45"),n=a("ed08"),o={name:"Dict",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,typeList:[],title:"",isEdit:!1,open:!1,statusOptions:[],dateRange:[],queryParams:{pageIndex:1,pageSize:10,dictName:void 0,dictType:void 0,status:void 0},form:{},rules:{dictName:[{required:!0,message:"字典名称不能为空",trigger:"blur"}],dictType:[{required:!0,message:"字典类型不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(i["d"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.typeList=t.data.list,e.total=t.data.count,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={dictId:void 0,dictName:void 0,dictType:void 0,status:"0",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加字典类型",this.isEdit=!1},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.dictId})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.dictId||this.ids;Object(i["c"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改字典类型",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.dictId?Object(i["f"])(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(i["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.dictId||this.ids;this.$confirm('是否确认删除字典编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有类型数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([a.e("chunk-23b9c8dc"),a.e("chunk-748b566e")]).then(a.bind(null,"4bf8d")).then((function(t){var a=["字典编号","字典名称","字典类型","状态","备注"],s=["dictId","dictName","dictType","status","remark"],r=e.typeList,i=Object(n["c"])(s,r);t.export_json_to_excel({header:a,data:i,filename:"字典管理",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))}))}}},l=o,c=a("2877"),u=Object(c["a"])(l,s,r,!1,null,null,null);t["default"]=u.exports},"334f":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"线路",prop:"lineId"}},[a("el-input",{attrs:{placeholder:"请输入线路",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.lineId,callback:function(t){e.$set(e.queryParams,"lineId",t)},expression:"queryParams.lineId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"跟车员",prop:"attendantId"}},[a("el-input",{attrs:{placeholder:"请输入跟车员",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.attendantId,callback:function(t){e.$set(e.queryParams,"attendantId",t)},expression:"queryParams.attendantId"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbfollowrecord:scbfollowrecord:add"],expression:"['scbfollowrecord:scbfollowrecord:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n      ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbfollowrecord:scbfollowrecord:edit"],expression:"['scbfollowrecord:scbfollowrecord:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改\n      ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbfollowrecord:scbfollowrecord:remove"],expression:"['scbfollowrecord:scbfollowrecord:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除\n      ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.scbfollowrecordList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"线路",align:"center",prop:"lineName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"车牌号",align:"center",prop:"carNo","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"跟车员",align:"center",prop:"attendantName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"所有人数",align:"center",prop:"allCount","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"已下车",align:"center",prop:"getOff","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"已上车",align:"center",prop:"getOn","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"未上车",align:"center",prop:"unGetOn","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"请假",align:"center",prop:"leave","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"日期",align:"center",prop:"ymd","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbfollowrecord:scbfollowrecord:edit"],expression:"['scbfollowrecord:scbfollowrecord:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改\n        ")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbfollowrecord:scbfollowrecord:remove"],expression:"['scbfollowrecord:scbfollowrecord:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"线路",prop:"lineId"}},[a("el-select",{attrs:{placeholder:"请选择线路"},model:{value:e.form.lineId,callback:function(t){e.$set(e.form,"lineId",t)},expression:"form.lineId"}},e._l(e.lineIdOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"车辆",prop:"carId"}},[a("el-input",{attrs:{placeholder:"车辆"},model:{value:e.form.carId,callback:function(t){e.$set(e.form,"carId",t)},expression:"form.carId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"跟车员 关联teachers表的id\t",prop:"attendantId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.attendantId,callback:function(t){e.$set(e.form,"attendantId",t)},expression:"form.attendantId"}},e._l(e.attendantIdOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"所有人数",prop:"allCount"}},[a("el-input",{attrs:{placeholder:"所有人数"},model:{value:e.form.allCount,callback:function(t){e.$set(e.form,"allCount",t)},expression:"form.allCount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"已下车",prop:"getOff"}},[a("el-input",{attrs:{placeholder:"已下车"},model:{value:e.form.getOff,callback:function(t){e.$set(e.form,"getOff",t)},expression:"form.getOff"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"已上车",prop:"getOn"}},[a("el-input",{attrs:{placeholder:"已上车"},model:{value:e.form.getOn,callback:function(t){e.$set(e.form,"getOn",t)},expression:"form.getOn"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"未上车",prop:"unGetOn"}},[a("el-input",{attrs:{placeholder:"未上车"},model:{value:e.form.unGetOn,callback:function(t){e.$set(e.form,"unGetOn",t)},expression:"form.unGetOn"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"请假",prop:"leave"}},[a("el-input",{attrs:{placeholder:"请假"},model:{value:e.form.leave,callback:function(t){e.$set(e.form,"leave",t)},expression:"form.leave"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"0未删除 1已删除",prop:"isDelete"}},[a("el-input",{attrs:{placeholder:"0未删除 1已删除"},model:{value:e.form.isDelete,callback:function(t){e.$set(e.form,"isDelete",t)},expression:"form.isDelete"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],i=a("b775");function n(e){return Object(i["a"])({url:"/api/v1/scbfollowrecordList",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/api/v1/scbfollowrecord/"+e,method:"get"})}function l(e){return Object(i["a"])({url:"/api/v1/scbfollowrecord",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/api/v1/scbfollowrecord",method:"put",data:e})}function u(e){return Object(i["a"])({url:"/api/v1/scbfollowrecord/"+e,method:"delete"})}var d={name:"Config",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,title:"",open:!1,isEdit:!1,typeOptions:[],scbfollowrecordList:[],queryParams:{pageIndex:1,pageSize:10,lineId:void 0,attendantId:void 0,unGetOn:void 0,leave:void 0},form:{},rules:{lineId:[{required:!0,message:"线路id不能为空",trigger:"blur"}],attendantId:[{required:!0,message:"跟车员 关联teachers表的id\t不能为空",trigger:"blur"}],unGetOn:[{required:!0,message:"未上车不能为空",trigger:"blur"}],leave:[{required:!0,message:"请假不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,n(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.scbfollowrecordList=t.data.list,e.total=t.data.count,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,lineId:void 0,carId:void 0,attendantId:void 0,allCount:void 0,getOff:void 0,getOn:void 0,unGetOn:void 0,leave:void 0,isDelete:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加ScbFollowRecord",this.isEdit=!1},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;o(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改ScbFollowRecord",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.id?c(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):l(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},m=d,p=a("2877"),f=Object(p["a"])(m,s,r,!1,null,null,null);t["default"]=f.exports},"35e7":function(e,t,a){"use strict";var s=a("c107"),r=a.n(s);r.a},"37a3":function(e,t,a){},3823:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"旧密码",prop:"oldPassword"}},[a("el-input",{attrs:{placeholder:"请输入旧密码",type:"password"},model:{value:e.user.oldPassword,callback:function(t){e.$set(e.user,"oldPassword",t)},expression:"user.oldPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[a("el-input",{attrs:{placeholder:"请输入新密码",type:"password"},model:{value:e.user.newPassword,callback:function(t){e.$set(e.user,"newPassword",t)},expression:"user.newPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[a("el-input",{attrs:{placeholder:"请确认密码",type:"password"},model:{value:e.user.confirmPassword,callback:function(t){e.$set(e.user,"confirmPassword",t)},expression:"user.confirmPassword"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.close}},[e._v("关闭")])],1)],1)},r=[],i=a("b150"),n={data:function(){var e=this,t=function(t,a,s){e.user.newPassword!==a?s(new Error("两次输入的密码不一致")):s()};return{test:"1test",user:{oldPassword:void 0,newPassword:void 0,confirmPassword:void 0},rules:{oldPassword:[{required:!0,message:"旧密码不能为空",trigger:"blur"}],newPassword:[{required:!0,message:"新密码不能为空",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{required:!0,validator:t,trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(i["l"])(e.user.oldPassword,e.user.newPassword).then((function(t){200===t.code?e.msgSuccess("修改成功"):e.msgError(t.msg)}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/index"})}}},o=n,l=a("2877"),c=Object(l["a"])(o,s,r,!1,null,null,null);t["default"]=c.exports},4236:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return n})),a.d(t,"f",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return c}));var s=a("b775");function r(e){return Object(s["a"])({url:"/api/v1/scbteachersList",method:"get",params:e})}function i(e){return Object(s["a"])({url:"/api/v1/scbteachers/"+e,method:"get"})}function n(e){return Object(s["a"])({url:"/api/v1/scbteachers",method:"post",data:e})}function o(e){return Object(s["a"])({url:"/api/v1/scbteachers",method:"put",data:e})}function l(e){return Object(s["a"])({url:"/api/v1/scbteachers/"+e,method:"delete"})}function c(){return Object(s["a"])({url:"/api/v1/getAttendants",method:"get"})}},"499f":function(e,t,a){"use strict";var s=a("b746"),r=a.n(s);r.a},"4aab":function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return n})),a.d(t,"i",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"h",(function(){return d})),a.d(t,"g",(function(){return m}));var s=a("b775");function r(e){return Object(s["a"])({url:"/api/v1/sys/tables/page",method:"get",params:e})}function i(e){return Object(s["a"])({url:"/api/v1/db/tables/page",method:"get",params:e})}function n(e){return Object(s["a"])({url:"/api/v1/sys/tables/info/"+e,method:"get"})}function o(e){return Object(s["a"])({url:"/api/v1/sys/tables/info",method:"put",data:e})}function l(e){return Object(s["a"])({url:"/api/v1/sys/tables/info",method:"post",params:e})}function c(e){return Object(s["a"])({url:"/api/v1/gen/preview/"+e,method:"get"})}function u(e){return Object(s["a"])({url:"/api/v1/sys/tables/info/"+e,method:"delete"})}function d(e,t){return Object(s["a"])({url:"/api/v1/gen/toproject/"+e+"?ischeckrole="+t,method:"get"})}function m(e){return Object(s["a"])({url:"/api/v1/gen/todb/"+e,method:"get"})}},"4c4f":function(e,t,a){},"50ce":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"inline-block"}},[a("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[e._v("Filename: ")]),e._v(" "),a("el-input",{staticStyle:{width:"345px"},attrs:{placeholder:"Please enter the file name (default excel-list)","prefix-icon":"el-icon-document"},model:{value:e.filename,callback:function(t){e.filename=t},expression:"filename"}})],1)},r=[],i={props:{value:{type:String,default:""}},computed:{filename:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},n=i,o=a("2877"),l=Object(o["a"])(n,s,r,!1,null,null,null);t["default"]=l.exports},5211:function(e,t,a){},5905:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},r=[],i=a("2877"),n={},o=Object(i["a"])(n,s,r,!1,null,null,null);t["default"]=o.exports},"5b25":function(e,t,a){},"5cad":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"线路名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入线路名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scblines:scblines:add"],expression:"['scblines:scblines:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n      ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scblines:scblines:edit"],expression:"['scblines:scblines:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改\n      ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scblines:scblines:remove"],expression:"['scblines:scblines:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除\n      ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.scblinesList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"线路名称",align:"center",prop:"name","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"出发时间",align:"center",prop:"departed_at","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"到达时间",align:"center",prop:"arrivedAt","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"换站截止时间",align:"center",prop:"changeExpiredAt","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"绑定车辆",align:"center",prop:"carNos","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"更新时间",align:"center",prop:"updatedAt","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"",align:"center",prop:"deletedAt","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scblines:scblines:edit"],expression:"['scblines:scblines:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改\n        ")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scblines:scblines:remove"],expression:"['scblines:scblines:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"线路名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"线路名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出发时间",prop:"departed_at"}},[a("el-time-picker",{style:{width:"100%"},attrs:{format:"HH:mm:ss","value-format":"HH:mm:ss","picker-options":{selectableRange:"00:00:00-23:59:59"},placeholder:"请选择出发时间",clearable:""},model:{value:e.form.departed_at,callback:function(t){e.$set(e.form,"departed_at",t)},expression:"form.departed_at"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"到达时间",prop:"arrivedAt"}},[a("el-time-picker",{style:{width:"100%"},attrs:{format:"HH:mm:ss","value-format":"HH:mm:ss","picker-options":{selectableRange:"00:00:00-23:59:59"},placeholder:"请选择到达时间",clearable:""},model:{value:e.form.arrivedAt,callback:function(t){e.$set(e.form,"arrivedAt",t)},expression:"form.arrivedAt"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"换站截止时间",prop:"changeExpiredAt"}},[a("el-time-picker",{style:{width:"100%"},attrs:{format:"HH:mm:ss","value-format":"HH:mm:ss","picker-options":{selectableRange:"00:00:00-23:59:59"},placeholder:"请选择换站截止时间",clearable:""},model:{value:e.form.changeExpiredAt,callback:function(t){e.$set(e.form,"changeExpiredAt",t)},expression:"form.changeExpiredAt"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"绑定车辆"}},[a("el-tree",{ref:"cars",attrs:{data:e.carsOptions,"show-checkbox":"","node-key":"id","empty-text":"加载中，请稍后",props:e.defaultProps}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],i=a("5f6d"),n={name:"Config",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,title:"",open:!1,isEdit:!1,typeOptions:[],scblinesList:[],carsOptions:[],carIdsSelected:[],queryParams:{pageIndex:1,pageSize:10,id:void 0,name:void 0,departed_at:void 0,arrivedAt:void 0,changeExpiredAt:void 0,carIdsSelected:void 0,createdAt:void 0,updatedAt:void 0,isDelete:void 0,deletedAt:void 0},form:{},defaultProps:{children:"children",label:"label"},rules:{id:[{required:!0,message:"不能为空",trigger:"blur"}],name:[{required:!0,message:"线路名称不能为空",trigger:"blur"}],departed_at:[{required:!1,message:"出发时间不能为空",trigger:"change"}],arrivedAt:[{required:!1,message:"到达时间不能为空",trigger:"change"}],changeExpiredAt:[{required:!1,message:"换站截止时间不能为空",trigger:"change"}],carIdsSelected:[{required:!0,message:"绑定的车辆不能为空",trigger:"blur"}],createdAt:[{required:!0,message:"创建时间不能为空",trigger:"blur"}],updatedAt:[{required:!0,message:"更新时间不能为空",trigger:"blur"}],isDelete:[{required:!0,message:"0正常 1已删除不能为空",trigger:"blur"}],deletedAt:[{required:!0,message:"不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getCarsAllCheckedKeys:function(){var e=this.$refs.cars.getHalfCheckedKeys(),t=this.$refs.cars.getCheckedKeys();return e.unshift.apply(e,t),e},getCarsTreeselect:function(e){var t=this;Object(i["b"])(e).then((function(e){t.carsOptions=e.cars,t.$nextTick((function(){t.$refs.cars.setCheckedKeys(e.checkedKeys)}))}))},getList:function(){var e=this;this.loading=!0,Object(i["h"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.scblinesList=t.data.list,e.total=t.data.count,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,name:void 0,departed_at:void 0,arrivedAt:void 0,changeExpiredAt:void 0,carIdsSelected:void 0,carIdsSubmit:void 0,isDelete:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加线路管理",this.isEdit=!1,this.getCarsTreeselect(0)},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(i["g"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改线路管理",t.isEdit=!0})),this.getCarsTreeselect(a)},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.form.carIdsSubmit=e.getCarsAllCheckedKeys(),console.log(e.form.carIdsSubmit),void 0!==e.form.id?Object(i["i"])(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(i["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["c"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},o=n,l=a("2877"),c=Object(l["a"])(o,s,r,!1,null,null,null);t["default"]=c.exports},"5d2b":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},r=[],i=a("2877"),n={},o=Object(i["a"])(n,s,r,!1,null,null,null);t["default"]=o.exports},"5f6d":function(e,t,a){"use strict";a.d(t,"h",(function(){return r})),a.d(t,"g",(function(){return i})),a.d(t,"a",(function(){return n})),a.d(t,"i",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"f",(function(){return m}));var s=a("b775");function r(e){return Object(s["a"])({url:"/api/v1/scblinesList",method:"get",params:e})}function i(e){return Object(s["a"])({url:"/api/v1/scblines/"+e,method:"get"})}function n(e){return Object(s["a"])({url:"/api/v1/scblines",method:"post",data:e})}function o(e){return Object(s["a"])({url:"/api/v1/scblines",method:"put",data:e})}function l(e){return Object(s["a"])({url:"/api/v1/scblines/"+e,method:"delete"})}function c(e){return Object(s["a"])({url:"/api/v1/carsTreeselect/"+e,method:"get"})}function u(){return Object(s["a"])({url:"/api/v1/getAllLines",method:"get"})}function d(){return Object(s["a"])({url:"/api/v1/getLines/cars",method:"get"})}function m(){return Object(s["a"])({url:"/api/v1/getLines/sites",method:"get"})}},6269:function(e,t,a){},"67df":function(e,t,a){"use strict";var s=a("8ba6"),r=a.n(s);r.a},"6b4cd":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"车牌编号",prop:"carNumber"}},[a("el-input",{attrs:{placeholder:"请输入车牌编号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.carNumber,callback:function(t){e.$set(e.queryParams,"carNumber",t)},expression:"queryParams.carNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车牌号",prop:"carNo"}},[a("el-input",{attrs:{placeholder:"请输入车牌号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.carNo,callback:function(t){e.$set(e.queryParams,"carNo",t)},expression:"queryParams.carNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"司机",prop:"driver"}},[a("el-input",{attrs:{placeholder:"请输入司机",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.driver,callback:function(t){e.$set(e.queryParams,"driver",t)},expression:"queryParams.driver"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入手机号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.phone,callback:function(t){e.$set(e.queryParams,"phone",t)},expression:"queryParams.phone"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbcars:scbcars:add"],expression:"['scbcars:scbcars:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n      ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbcars:scbcars:edit"],expression:"['scbcars:scbcars:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改\n      ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbcars:scbcars:remove"],expression:"['scbcars:scbcars:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除\n      ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.scbcarsList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"车牌编号",align:"center",prop:"carNumber","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"车牌号",align:"center",prop:"carNo","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"座位数",align:"center",prop:"seatsNum","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"跟车员",align:"center",prop:"attendantName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"司机",align:"center",prop:"driver","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"手机号",align:"center",prop:"phone","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"所属部门",align:"center",prop:"dept","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbcars:scbcars:edit"],expression:"['scbcars:scbcars:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改\n        ")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbcars:scbcars:remove"],expression:"['scbcars:scbcars:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"车牌编号",prop:"carNumber"}},[a("el-input",{attrs:{placeholder:"车牌编号"},model:{value:e.form.carNumber,callback:function(t){e.$set(e.form,"carNumber",t)},expression:"form.carNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车牌号",prop:"carNo"}},[a("el-input",{attrs:{placeholder:"车牌号"},model:{value:e.form.carNo,callback:function(t){e.$set(e.form,"carNo",t)},expression:"form.carNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"座位数",prop:"seatsNum"}},[a("el-input",{attrs:{placeholder:"座位数"},model:{value:e.form.seatsNum,callback:function(t){e.$set(e.form,"seatsNum",t)},expression:"form.seatsNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"跟车员",prop:"attendantId"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"选择跟车员",clearable:""},model:{value:e.form.attendantId,callback:function(t){e.$set(e.form,"attendantId",t)},expression:"form.attendantId"}},e._l(e.attendantsOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"司机",prop:"driver"}},[a("el-input",{attrs:{placeholder:"司机"},model:{value:e.form.driver,callback:function(t){e.$set(e.form,"driver",t)},expression:"form.driver"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"手机号"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属部门",prop:"dept"}},[a("el-input",{attrs:{placeholder:"所属部门"},model:{value:e.form.dept,callback:function(t){e.$set(e.form,"dept",t)},expression:"form.dept"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],i=(a("7f7f"),a("b775"));function n(e){return Object(i["a"])({url:"/api/v1/scbcarsList",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/api/v1/scbcars/"+e,method:"get"})}function l(e){return Object(i["a"])({url:"/api/v1/scbcars",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/api/v1/scbcars",method:"put",data:e})}function u(){return Object(i["a"])({url:"/api/v1/scbcars/",method:"delete"})}var d=a("4236"),m=(a("542c"),{name:"Scbcars",data:function(){return{attendantsOptions:[],loading:!0,ids:[],single:!0,multiple:!0,total:0,title:"",open:!1,isEdit:!1,typeOptions:[],scbcarsList:[],queryParams:{pageIndex:1,pageSize:10,carNumber:void 0,carNo:void 0,driver:void 0,phone:void 0},form:{deptId:void 0,deptName:void 0},rules:{carNumber:[{required:!0,message:"车牌编号不能为空",trigger:"blur"}],carNo:[{required:!0,message:"车牌号不能为空",trigger:"blur"}],driver:[{required:!0,message:"司机不能为空",trigger:"blur"}],phone:[{required:!0,message:"手机号不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.name,children:e.children}},getList:function(){var e=this;this.loading=!0,n(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.scbcarsList=t.data.list,e.total=t.data.count,e.loading=!1}))},getTreeselect:function(e){var t=this;Object(d["c"])().then((function(e){t.attendantsOptions=[];for(var a=0;a<e.data.length;a++){var s=e.data[a],r={label:s.name,value:s.id};t.attendantsOptions.push(r)}}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,carNumber:void 0,carNo:void 0,seatsNum:void 0,attendantId:void 0,driver:void 0,phone:void 0,dept:void 0,isDelete:void 0,deptId:void 0,deptName:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加车辆",this.isEdit=!1,this.getTreeselect("add")},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.row})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.id;o(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改车辆",t.isEdit=!0})),this.getTreeselect("update")},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.id?c(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):l(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),p=m,f=a("2877"),v=Object(f["a"])(p,s,r,!1,null,null,null);t["default"]=v.exports},"6c35":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入角色名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleName,callback:function(t){e.$set(e.queryParams,"roleName",t)},expression:"queryParams.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符",prop:"roleKey"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入权限字符",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleKey,callback:function(t){e.$set(e.queryParams,"roleKey",t)},expression:"queryParams.roleKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"角色状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysrole:add"],expression:"['system:sysrole:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysrole:edit"],expression:"['system:sysrole:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysrole:remove"],expression:"['system:sysrole:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysrole:export"],expression:"['system:sysrole:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.roleList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色编号",prop:"roleId",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色名称",prop:"roleName","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"权限字符",prop:"roleKey","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"显示顺序",prop:"roleSort",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysrole:edit"],expression:"['system:sysrole:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysrole:edit"],expression:"['system:sysrole:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-circle-check"},on:{click:function(a){return e.handleDataScope(t.row)}}},[e._v("数据权限")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysrole:remove"],expression:"['system:sysrole:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{attrs:{placeholder:"请输入角色名称",disabled:e.isEdit},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符",prop:"roleKey"}},[a("el-input",{attrs:{placeholder:"请输入权限字符",disabled:e.isEdit},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色顺序",prop:"roleSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.roleSort,callback:function(t){e.$set(e.form,"roleSort",t)},expression:"form.roleSort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"菜单权限"}},[a("el-tree",{ref:"menu",attrs:{data:e.menuOptions,"show-checkbox":"","node-key":"id","empty-text":"加载中，请稍后",props:e.defaultProps}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.openDataScope,width:"500px"},on:{"update:visible":function(t){e.openDataScope=t}}},[a("el-form",{attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限范围"}},[a("el-select",{model:{value:e.form.dataScope,callback:function(t){e.$set(e.form,"dataScope",t)},expression:"form.dataScope"}},e._l(e.dataScopeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.form.dataScope,expression:"form.dataScope == 2"}],attrs:{label:"数据权限"}},[a("el-tree",{ref:"dept",attrs:{data:e.deptOptions,"show-checkbox":"","default-expand-all":"","node-key":"id","empty-text":"加载中，请稍后",props:e.defaultProps}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitDataScope}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancelDataScope}},[e._v("取 消")])],1)],1)],1)},r=[],i=a("3528"),n=a("a6dc"),o=a("fcb7"),l=a("ed08"),c={name:"Role",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,roleList:[],title:"",open:!1,openDataScope:!1,isEdit:!1,dateRange:[],statusOptions:[],dataScopeOptions:[{value:"1",label:"全部数据权限"},{value:"2",label:"自定数据权限"},{value:"3",label:"本部门数据权限"},{value:"4",label:"本部门及以下数据权限"},{value:"5",label:"仅本人数据权限"}],menuOptions:[],deptOptions:[],queryParams:{pageIndex:1,pageSize:10,roleName:void 0,roleKey:void 0,status:void 0},form:{},defaultProps:{children:"children",label:"label"},rules:{roleName:[{required:!0,message:"角色名称不能为空",trigger:"blur"}],roleKey:[{required:!0,message:"权限字符不能为空",trigger:"blur"}],roleSort:[{required:!0,message:"角色顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(i["g"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.roleList=t.data.list,e.total=t.data.count,e.loading=!1}))},getMenuTreeselect:function(){var e=this;Object(n["f"])().then((function(t){e.menuOptions=t.data}))},getDeptTreeselect:function(){var e=this;Object(o["f"])().then((function(t){e.deptOptions=t.data.list}))},getMenuAllCheckedKeys:function(){var e=this.$refs.menu.getHalfCheckedKeys(),t=this.$refs.menu.getCheckedKeys();return e.unshift.apply(e,t),e},getDeptAllCheckedKeys:function(){var e=this.$refs.dept.getCheckedKeys();return e},getRoleMenuTreeselect:function(e){var t=this;Object(n["e"])(e).then((function(e){t.menuOptions=e.menus,t.$nextTick((function(){t.$refs.menu.setCheckedKeys(e.checkedKeys)}))}))},getRoleDeptTreeselect:function(e){var t=this;Object(o["e"])(e).then((function(e){t.deptOptions=e.depts,t.$nextTick((function(){t.$refs.dept.setCheckedKeys(e.checkedKeys)}))}))},handleStatusChange:function(e){var t=this,a="0"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.roleName+'"角色吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["b"])(e.roleId,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},cancel:function(){this.open=!1,this.reset()},cancelDataScope:function(){this.openDataScope=!1,this.reset()},reset:function(){void 0!==this.$refs.menu&&this.$refs.menu.setCheckedKeys([]),this.form={roleId:void 0,roleName:void 0,roleKey:void 0,roleSort:0,status:"0",menuIds:[],deptIds:[],remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.roleId})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.getMenuTreeselect(),this.open=!0,this.title="添加角色",this.isEdit=!1},handleUpdate:function(e){var t=this;this.reset();var a=e.roleId||this.ids;Object(i["e"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改角色",t.isEdit=!0,t.getRoleMenuTreeselect(a)}))},handleDataScope:function(e){var t=this;this.reset(),Object(i["e"])(e.roleId).then((function(a){t.form=a.data,t.openDataScope=!0,t.title="分配数据权限",t.getRoleDeptTreeselect(e.roleId)}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.roleId?(e.form.menuIds=e.getMenuAllCheckedKeys(),Object(i["h"])(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)}))):(e.form.menuIds=e.getMenuAllCheckedKeys(),Object(i["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)}))))}))},submitDataScope:function(){var e=this;void 0!==this.form.roleId&&(this.form.deptIds=this.getDeptAllCheckedKeys(),console.log(this.getDeptAllCheckedKeys()),Object(i["c"])(this.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.openDataScope=!1,e.getList()):e.msgError(t.msg)})))},handleDelete:function(e){var t=this,a=e.roleId||this.ids;this.$confirm('是否确认删除角色编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["d"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有角色数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([a.e("chunk-23b9c8dc"),a.e("chunk-748b566e")]).then(a.bind(null,"4bf8d")).then((function(t){var a=["角色编号","角色名称","权限字符","显示顺序","状态","创建时间"],s=["roleId","roleName","roleKey","roleSort","status","createdAt"],r=e.roleList,i=Object(l["c"])(s,r);t.export_json_to_excel({header:a,data:i,filename:"角色管理",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))}))}}},u=c,d=a("2877"),m=Object(d["a"])(u,s,r,!1,null,null,null);t["default"]=m.exports},"6e50":function(e,t,a){"use strict";var s=a("df1c"),r=a.n(s);r.a},7115:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-activity"},[a("div",{staticClass:"post"},[a("div",{staticClass:"user-block"},[a("img",{staticClass:"img-circle",attrs:{src:"https://wpimg.wallstcn.com/57ed425a-c71e-4201-9428-68760c0537c4.jpg"+e.avatarPrefix}}),e._v(" "),a("span",{staticClass:"username text-muted"},[e._v("Iron Man")]),e._v(" "),a("span",{staticClass:"description"},[e._v("Shared publicly - 7:30 PM today")])]),e._v(" "),a("p",[e._v("\n      Lorem ipsum represents a long-held tradition for designers,\n      typographers and the like. Some people hate it and argue for\n      its demise, but others ignore the hate as they create awesome\n      tools to help create filler text for everyone from bacon lovers\n      to Charlie Sheen fans.\n    ")]),e._v(" "),a("ul",{staticClass:"list-inline"},[e._m(0),e._v(" "),a("li",[a("span",{staticClass:"link-black text-sm"},[a("svg-icon",{attrs:{"icon-class":"like"}}),e._v("\n          Like\n        ")],1)])])]),e._v(" "),a("div",{staticClass:"post"},[a("div",{staticClass:"user-block"},[a("img",{staticClass:"img-circle",attrs:{src:"https://wpimg.wallstcn.com/9e2a5d0a-bd5b-457f-ac8e-86554616c87b.jpg"+e.avatarPrefix}}),e._v(" "),a("span",{staticClass:"username text-muted"},[e._v("Captain American")]),e._v(" "),a("span",{staticClass:"description"},[e._v("Sent you a message - yesterday")])]),e._v(" "),a("p",[e._v("\n      Lorem ipsum represents a long-held tradition for designers,\n      typographers and the like. Some people hate it and argue for\n      its demise, but others ignore the hate as they create awesome\n      tools to help create filler text for everyone from bacon lovers\n      to Charlie Sheen fans.\n    ")]),e._v(" "),a("ul",{staticClass:"list-inline"},[e._m(1),e._v(" "),a("li",[a("span",{staticClass:"link-black text-sm"},[a("svg-icon",{attrs:{"icon-class":"like"}}),e._v("\n          Like\n        ")],1)])])]),e._v(" "),a("div",{staticClass:"post"},[a("div",{staticClass:"user-block"},[a("img",{staticClass:"img-circle",attrs:{src:"https://wpimg.wallstcn.com/fb57f689-e1ab-443c-af12-8d4066e202e2.jpg"+e.avatarPrefix}}),e._v(" "),a("span",{staticClass:"username"},[e._v("Spider Man")]),e._v(" "),a("span",{staticClass:"description"},[e._v("Posted 4 photos - 2 days ago")])]),e._v(" "),a("div",{staticClass:"user-images"},[a("el-carousel",{attrs:{interval:6e3,type:"card",height:"220px"}},e._l(e.carouselImages,(function(t){return a("el-carousel-item",{key:t},[a("img",{staticClass:"image",attrs:{src:t+e.carouselPrefix}})])})),1)],1),e._v(" "),a("ul",{staticClass:"list-inline"},[e._m(2),e._v(" "),a("li",[a("span",{staticClass:"link-black text-sm"},[a("svg-icon",{attrs:{"icon-class":"like"}}),e._v(" Like")],1)])])])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("span",{staticClass:"link-black text-sm"},[a("i",{staticClass:"el-icon-share"}),e._v("\n          Share\n        ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("span",{staticClass:"link-black text-sm"},[a("i",{staticClass:"el-icon-share"}),e._v("\n          Share\n        ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("span",{staticClass:"link-black text-sm"},[a("i",{staticClass:"el-icon-share"}),e._v(" Share")])])}],i="?imageView2/1/w/80/h/80",n="?imageView2/2/h/440",o={data:function(){return{carouselImages:["https://wpimg.wallstcn.com/9679ffb0-9e0b-4451-9916-e21992218054.jpg","https://wpimg.wallstcn.com/bcce3734-0837-4b9f-9261-351ef384f75a.jpg","https://wpimg.wallstcn.com/d1d7b033-d75e-4cd6-ae39-fcd5f1c0a7c5.jpg","https://wpimg.wallstcn.com/50530061-851b-4ca5-9dc5-2fead928a939.jpg"],avatarPrefix:i,carouselPrefix:n}}},l=o,c=(a("6e50"),a("2877")),u=Object(c["a"])(l,s,r,!1,null,"1066d76c",null);t["default"]=u.exports},"76f2":function(e,t,a){"use strict";var s=a("f729"),r=a.n(s);r.a},7736:function(e,t,a){"use strict";var s=a("6269"),r=a.n(s);r.a},"7ebc":function(e,t,a){},"7faf":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("About me")])]),e._v(" "),a("div",{staticClass:"user-profile"},[a("div",{staticClass:"box-center"},[a("pan-thumb",{attrs:{image:e.user.avatar,height:"100px",width:"100px",hoverable:!1}},[a("div",[e._v("Hello")]),e._v("\n        "+e._s(e.user.role)+"\n      ")])],1),e._v(" "),a("div",{staticClass:"box-center"},[a("div",{staticClass:"user-name text-center"},[e._v(e._s(e.user.name))]),e._v(" "),a("div",{staticClass:"user-role text-center text-muted"},[e._v(e._s(e._f("uppercaseFirst")(e.user.role)))])])]),e._v(" "),a("div",{staticClass:"user-bio"},[a("div",{staticClass:"user-education user-bio-section"},[a("div",{staticClass:"user-bio-section-header"},[a("svg-icon",{attrs:{"icon-class":"education"}}),a("span",[e._v("Education")])],1),e._v(" "),a("div",{staticClass:"user-bio-section-body"},[a("div",{staticClass:"text-muted"},[e._v("\n          JS in Computer Science from the University of Technology\n        ")])])]),e._v(" "),a("div",{staticClass:"user-skills user-bio-section"},[a("div",{staticClass:"user-bio-section-header"},[a("svg-icon",{attrs:{"icon-class":"skill"}}),a("span",[e._v("Skills")])],1),e._v(" "),a("div",{staticClass:"user-bio-section-body"},[a("div",{staticClass:"progress-item"},[a("span",[e._v("Vue")]),e._v(" "),a("el-progress",{attrs:{percentage:70}})],1),e._v(" "),a("div",{staticClass:"progress-item"},[a("span",[e._v("JavaScript")]),e._v(" "),a("el-progress",{attrs:{percentage:18}})],1),e._v(" "),a("div",{staticClass:"progress-item"},[a("span",[e._v("Css")]),e._v(" "),a("el-progress",{attrs:{percentage:12}})],1),e._v(" "),a("div",{staticClass:"progress-item"},[a("span",[e._v("ESLint")]),e._v(" "),a("el-progress",{attrs:{percentage:100,status:"success"}})],1)])])])])},r=[],i=a("3cbc"),n={components:{PanThumb:i["a"]},props:{user:{type:Object,default:function(){return{name:"",email:"",avatar:"",roles:""}}}}},o=n,l=(a("aee9"),a("2877")),c=Object(l["a"])(o,s,r,!1,null,"0b95296e",null);t["default"]=c.exports},8269:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card-component",staticStyle:{"margin-left":"8px"}},[a("div",{staticClass:"box-card-header",attrs:{slot:"header"},slot:"header"},[a("img",{attrs:{src:"https://wpimg.wallstcn.com/e7d23d71-cf19-4b90-a1cc-f56af8c0903d.png"}})]),e._v(" "),a("div",{staticStyle:{position:"relative"}},[a("pan-thumb",{staticClass:"panThumb",attrs:{image:e.avatar}}),e._v(" "),a("mallki",{attrs:{"class-name":"mallki-text",text:"vue-element-admin"}}),e._v(" "),a("div",{staticClass:"progress-item",staticStyle:{"padding-top":"35px"}},[a("span",[e._v("Vue")]),e._v(" "),a("el-progress",{attrs:{percentage:70}})],1),e._v(" "),a("div",{staticClass:"progress-item"},[a("span",[e._v("JavaScript")]),e._v(" "),a("el-progress",{attrs:{percentage:18}})],1),e._v(" "),a("div",{staticClass:"progress-item"},[a("span",[e._v("Css")]),e._v(" "),a("el-progress",{attrs:{percentage:12}})],1),e._v(" "),a("div",{staticClass:"progress-item"},[a("span",[e._v("ESLint")]),e._v(" "),a("el-progress",{attrs:{percentage:100,status:"success"}})],1)],1)])},r=[],i=a("db72"),n=a("2f62"),o=a("3cbc"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"link--mallki",class:e.className,attrs:{href:"#"}},[e._v("\n  "+e._s(e.text)+"\n  "),a("span",{attrs:{"data-letters":e.text}}),e._v(" "),a("span",{attrs:{"data-letters":e.text}})])},c=[],u={props:{className:{type:String,default:""},text:{type:String,default:"vue-element-admin"}}},d=u,m=(a("8c05"),a("2877")),p=Object(m["a"])(d,l,c,!1,null,null,null),f=p.exports,v={components:{PanThumb:o["a"],Mallki:f},filters:{statusFilter:function(e){var t={success:"success",pending:"danger"};return t[e]}},data:function(){return{statisticsData:{article_count:1024,pageviews_count:1024}}},computed:Object(i["a"])({},Object(n["b"])(["name","avatar","roles"]))},h=v,b=(a("7736"),a("499f"),Object(m["a"])(h,s,r,!1,null,"17677967",null));t["default"]=b.exports},"837b":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入表名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableName,callback:function(t){e.$set(e.queryParams,"tableName",t)},expression:"queryParams.tableName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入表描述",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableComment,callback:function(t){e.$set(e.queryParams,"tableComment",t)},expression:"queryParams.tableComment"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}}),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"info",icon:"el-icon-upload",size:"mini"},on:{click:e.openImportTable}},[e._v("导入")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleEditTable}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"序号",align:"center",prop:"tableId",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{label:"表名称",align:"center",prop:"tableName","show-overflow-tooltip":!0,width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"表描述",align:"center",prop:"tableComment","show-overflow-tooltip":!0,width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"实体",align:"center",prop:"className","show-overflow-tooltip":!0,width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"165"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-view"},on:{click:function(a){return e.handlePreview(t.row)}}},[e._v("预览")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-view"},on:{click:function(a){return e.handleToProject(t.row)}}},[e._v("代码生成")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-view"},on:{click:function(a){return e.handleToProjectCheckRole(t.row)}}},[e._v("代码生成[带权限]")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-view"},on:{click:function(a){return e.handleToDB(t.row)}}},[e._v("配置生成")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-edit"},on:{click:function(a){return e.handleEditTable(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.preview.title,visible:e.preview.open,width:"80%",top:"5vh"},on:{"update:visible":function(t){return e.$set(e.preview,"open",t)}}},[a("el-tabs",{model:{value:e.preview.activeName,callback:function(t){e.$set(e.preview,"activeName",t)},expression:"preview.activeName"}},e._l(e.preview.data,(function(t,s){return a("el-tab-pane",{key:s,attrs:{label:s.substring(s.lastIndexOf("/")+1,s.indexOf(".template")),name:s.substring(s.lastIndexOf("/")+1,s.indexOf(".template"))}},[a("pre",[e._v(e._s(t))])])})),1)],1),e._v(" "),a("import-table",{ref:"import",on:{ok:e.handleQuery}})],1)},r=[],i=a("4aab"),n=a("24eb"),o=(a("a481"),a("3b2b"),a("bc3a"),a("5f87"),"https://sc.kenashua.com");function l(e){var t=o+e,a=document.createElement("a");a.href=t,document.body.appendChild(a),a.click(),document.body.appendChild(a)}var c={name:"Gen",components:{importTable:n["default"]},data:function(){return{loading:!0,uniqueId:"",ids:[],tableNames:[],single:!0,multiple:!0,total:0,tableList:[],dateRange:"",queryParams:{pageIndex:1,pageSize:10,tableName:void 0,tableComment:void 0},preview:{open:!1,title:"代码预览",data:{},activeName:"api.go"}}},created:function(){this.getList()},activated:function(){var e=this.$route.query.t;null!==e&&e!==this.uniqueId&&(this.uniqueId=e,this.resetQuery())},methods:{getList:function(){var e=this;this.loading=!0,Object(i["e"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.tableList=t.data.list,e.total=t.data.count,e.loading=!1}))},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},handleGenTable:function(e){var t=e.tableId||this.ids;""!==t?l("/api/v1/gen/gencode/"+t):this.msgError("请选择要生成的数据")},openImportTable:function(){this.$refs.import.show()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handlePreview:function(e){var t=this;Object(i["f"])(e.tableId).then((function(e){t.preview.data=e.data,t.preview.open=!0}))},handleToProject:function(e){var t=this;this.$confirm("正在使用代码生成请确认?","提示",{confirmButtonText:"生成",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["h"])(e.tableId,!1)})).then((function(e){t.msgSuccess(e.msg)})).catch((function(){}))},handleToProjectCheckRole:function(e){var t=this;this.$confirm("正在使用代码生成【带权限】请确认?","提示",{confirmButtonText:"生成",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["h"])(e.tableId,!0)})).then((function(e){t.msgSuccess(e.msg)})).catch((function(){}))},handleToDB:function(e){var t=this;this.$confirm("正在使用【菜单以及API生成到数据库】请确认?","提示",{confirmButtonText:"写入DB",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["g"])(e.tableId)})).then((function(e){t.msgSuccess(e.msg)})).catch((function(){}))},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.tableId})),this.tableNames=e.map((function(e){return e.tableName})),this.single=1!==e.length,this.multiple=!e.length},handleEditTable:function(e){var t=e.tableId||this.ids[0];this.$router.push({path:"/tools/editTable",query:{tableId:t}})},handleDelete:function(e){var t=this,a=e.tableId||this.ids;this.$confirm('是否确认删除表编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["a"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},u=c,d=a("2877"),m=Object(d["a"])(u,s,r,!1,null,null,null);t["default"]=m.exports},8437:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.deptName,callback:function(t){e.$set(e.queryParams,"deptName",t)},expression:"queryParams.deptName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbdept:scbdept:add"],expression:"['scbdept:scbdept:add']"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.deptList,"row-key":"deptId","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"deptName",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",formatter:e.statusFormat,width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"1"===t.row.status?"danger":"success","disable-transitions":""}},[e._v(e._s(e.statusFormat(t.row)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbdept:scbdept:edit"],expression:"['scbdept:scbdept:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbdept:scbdept:add"],expression:"['scbdept:scbdept:add']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")]),e._v(" "),0!=t.row.p_id?a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbdept:scbdept:remove"],expression:"['scbdept:scbdept:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上一级",prop:"parentId"}},[a("el-cascader",{style:{width:"100%"},attrs:{options:e.deptOptions,props:e.parentIdProps,placeholder:"请选择上一级",clearable:""},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"名称",prop:"deptName"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.deptName,callback:function(t){e.$set(e.form,"deptName",t)},expression:"form.deptName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"orderNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"负责人",prop:"leader"}},[a("el-input",{attrs:{placeholder:"请输入负责人",maxlength:"20"},model:{value:e.form.leader,callback:function(t){e.$set(e.form,"leader",t)},expression:"form.leader"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入联系电话",maxlength:"11"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],i=a("af87"),n=(a("542c"),{name:"ScbDept",data:function(){return{loading:!0,deptList:[],deptOptions:[],title:"",isEdit:!1,open:!1,statusOptions:[],queryParams:{deptName:void 0,status:void 0},form:{},rules:{parentId:[{required:!0,message:"上一级不能为空",trigger:"blur"}],deptName:[{required:!0,message:"名称不能为空",trigger:"blur"}],sort:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}],email:[{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}],parentIdProps:{multiple:!1,label:"name",value:"id",children:"children"}}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(i["c"])(this.queryParams).then((function(t){e.deptList=t.data,e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.deptId,label:e.deptName,children:e.children}},getTreeselect:function(e){var t=this;Object(i["c"])().then((function(e){t.deptOptions=t.getTreeData(e.data)}))},getTreeData:function(e){for(var t=0;t<e.length;t++)e[t].children.length<1?e[t].children=void 0:this.getTreeData(e[t].children);return e},statusFormat:function(e){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={deptId:void 0,parentId:void 0,deptName:void 0,sorc:void 0,leader:void 0,phone:void 0,email:void 0,status:"0"}},handleQuery:function(){this.getList()},handleAdd:function(e){this.reset(),this.getTreeselect("add"),void 0!==e&&(this.form.parentId=e.deptId),this.open=!0,this.title="添加",this.isEdit=!1},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect("update"),Object(i["d"])(e.deptId).then((function(e){t.form=e.data,t.open=!0,t.title="修改",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.deptId?Object(i["e"])(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(i["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除名称为"'+e.deptName+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["b"])(e.deptId)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),o=n,l=a("2877"),c=Object(l["a"])(o,s,r,!1,null,null,null);t["default"]=c.exports},"88c9":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("img",{staticClass:"img-circle img-lg",attrs:{src:e.options.img,title:"点击上传头像"},on:{click:function(t){return e.editCropper()}}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px"},on:{"update:visible":function(t){e.open=t}}},[a("el-row",[a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[a("vue-cropper",{ref:"cropper",attrs:{img:e.options.img,info:!0,"auto-crop":e.options.autoCrop,"auto-crop-width":e.options.autoCropWidth,"auto-crop-height":e.options.autoCropHeight,"fixed-box":e.options.fixedBox},on:{realTime:e.realTime}})],1),e._v(" "),a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[a("div",{staticClass:"avatar-upload-preview"},[a("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])],1),e._v(" "),a("br"),e._v(" "),a("el-row",[a("el-col",{attrs:{lg:2,md:2}},[a("el-upload",{attrs:{action:"#","http-request":e.requestUpload,"show-file-list":!1,"before-upload":e.beforeUpload}},[a("el-button",{attrs:{size:"small"}},[e._v("\n            上传\n            "),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),e._v(" "),a("el-col",{attrs:{lg:{span:1,offset:2},md:2}},[a("el-button",{attrs:{icon:"el-icon-plus",size:"small"},on:{click:function(t){return e.changeScale(1)}}})],1),e._v(" "),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-minus",size:"small"},on:{click:function(t){return e.changeScale(-1)}}})],1),e._v(" "),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-left",size:"small"},on:{click:function(t){return e.rotateLeft()}}})],1),e._v(" "),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-right",size:"small"},on:{click:function(t){return e.rotateRight()}}})],1),e._v(" "),a("el-col",{attrs:{lg:{span:2,offset:6},md:2}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.uploadImg()}}},[e._v("提 交")])],1)],1)],1)],1)},r=[],i=a("4360"),n=a("7e79"),o=a("b150"),l={components:{VueCropper:n["VueCropper"]},props:{user:{type:Object}},data:function(){return{open:!1,title:"修改头像",options:{img:i["a"].getters.avatar,autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!0},previews:{}}},methods:{editCropper:function(){this.open=!0},requestUpload:function(){},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},beforeUpload:function(e){var t=this;if(-1===e.type.indexOf("image/"))this.msgError("文件格式错误，请上传图片类型,如：JPG，PNG后缀的文件。");else{var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t.options.img=a.result}}},uploadImg:function(){var e=this;this.$refs.cropper.getCropBlob((function(t){var a=new FormData;a.append("upload[]",t),Object(o["m"])(a).then((function(t){200===t.code?(e.open=!1,e.options.img="https://sc.kenashua.com/"+t.data,e.msgSuccess("修改成功")):e.msgError(t.msg),e.$refs.cropper.clearCrop()}))}))},realTime:function(e){this.previews=e}}},c=l,u=a("2877"),d=Object(u["a"])(c,s,r,!1,null,null,null);t["default"]=d.exports},"8ad2":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"inline-block"}},[a("label",{staticClass:"radio-label"},[e._v("Cell Auto-Width: ")]),e._v(" "),a("el-radio-group",{model:{value:e.autoWidth,callback:function(t){e.autoWidth=t},expression:"autoWidth"}},[a("el-radio",{attrs:{label:!0,border:""}},[e._v("\n      True\n    ")]),e._v(" "),a("el-radio",{attrs:{label:!1,border:""}},[e._v("\n      False\n    ")])],1)],1)},r=[],i={props:{value:{type:Boolean,default:!0}},computed:{autoWidth:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},n=i,o=a("2877"),l=Object(o["a"])(n,s,r,!1,null,null,null);t["default"]=l.exports},"8ba6":function(e,t,a){},"8c05":function(e,t,a){"use strict";var s=a("b948"),r=a.n(s);r.a},9067:function(e,t,a){},"91a3":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["useraccount:useraccount:add"],expression:"['useraccount:useraccount:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n            ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["useraccount:useraccount:edit"],expression:"['useraccount:useraccount:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改\n            ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["useraccount:useraccount:remove"],expression:"['useraccount:useraccount:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除\n            ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.useraccountList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["useraccount:useraccount:edit"],expression:"['useraccount:useraccount:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改\n                ")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["useraccount:useraccount:remove"],expression:"['useraccount:useraccount:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n                ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户id",prop:"userId"}},[a("el-input",{attrs:{placeholder:"用户id"},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"资金总量",prop:"sumFund"}},[a("el-input",{attrs:{placeholder:"资金总量"},model:{value:e.form.sumFund,callback:function(t){e.$set(e.form,"sumFund",t)},expression:"form.sumFund"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"可用资金",prop:"availableFund"}},[a("el-input",{attrs:{placeholder:"可用资金"},model:{value:e.form.availableFund,callback:function(t){e.$set(e.form,"availableFund",t)},expression:"form.availableFund"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"冻结资金",prop:"frozenFund"}},[a("el-input",{attrs:{placeholder:"冻结资金"},model:{value:e.form.frozenFund,callback:function(t){e.$set(e.form,"frozenFund",t)},expression:"form.frozenFund"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"消费总额",prop:"paidFund"}},[a("el-input",{attrs:{placeholder:"消费总额"},model:{value:e.form.paidFund,callback:function(t){e.$set(e.form,"paidFund",t)},expression:"form.paidFund"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"充值总额",prop:"chargeFund"}},[a("el-input",{attrs:{placeholder:"充值总额"},model:{value:e.form.chargeFund,callback:function(t){e.$set(e.form,"chargeFund",t)},expression:"form.chargeFund"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"点数",prop:"point"}},[a("el-input",{attrs:{placeholder:"点数"},model:{value:e.form.point,callback:function(t){e.$set(e.form,"point",t)},expression:"form.point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"违章查询次数",prop:"carTimes"}},[a("el-input",{attrs:{placeholder:"违章查询次数"},model:{value:e.form.carTimes,callback:function(t){e.$set(e.form,"carTimes",t)},expression:"form.carTimes"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],i=a("b775");function n(e){return Object(i["a"])({url:"/api/v1/useraccountList",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/api/v1/useraccount/"+e,method:"get"})}function l(e){return Object(i["a"])({url:"/api/v1/useraccount",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/api/v1/useraccount",method:"put",data:e})}function u(e){return Object(i["a"])({url:"/api/v1/useraccount/"+e,method:"delete"})}var d={name:"Config",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,title:"",open:!1,isEdit:!1,typeOptions:[],useraccountList:[],queryParams:{pageIndex:1,pageSize:10},form:{},rules:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,n(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.useraccountList=t.data.list,e.total=t.data.count,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,userId:void 0,sumFund:void 0,availableFund:void 0,frozenFund:void 0,paidFund:void 0,chargeFund:void 0,point:void 0,carTimes:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加用户账户表",this.isEdit=!1},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;o(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改用户账户表",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.id?c(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):l(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},m=d,p=a("2877"),f=Object(p["a"])(m,s,r,!1,null,null,null);t["default"]=f.exports},"924c":function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return n})),a.d(t,"f",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return c}));var s=a("b775");function r(e){return Object(s["a"])({url:"/api/v1/scbpostList",method:"get",params:e})}function i(e){return Object(s["a"])({url:"/api/v1/scbpost/"+e,method:"get"})}function n(e){return Object(s["a"])({url:"/api/v1/scbpost",method:"post",data:e})}function o(e){return Object(s["a"])({url:"/api/v1/scbpost",method:"put",data:e})}function l(e){return Object(s["a"])({url:"/api/v1/scbpost/"+e,method:"delete"})}function c(){return Object(s["a"])({url:"/api/v1/scbpostAll",method:"get"})}},"99a2":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"岗位编码",prop:"postCode"}},[a("el-input",{attrs:{placeholder:"请输入岗位编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postCode,callback:function(t){e.$set(e.queryParams,"postCode",t)},expression:"queryParams.postCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位名称",prop:"postName"}},[a("el-input",{attrs:{placeholder:"请输入岗位名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postName,callback:function(t){e.$set(e.queryParams,"postName",t)},expression:"queryParams.postName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"岗位状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbpost:scbpost:add"],expression:"['scbpost:scbpost:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbpost:scbpost:edit"],expression:"['scbpost:scbpost:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbpost:scbpost:remove"],expression:"['scbpost:scbpost:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbpost:scbpost:export"],expression:"['scbpost:scbpost:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位编号",width:"80",align:"center",prop:"postId"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位编码",align:"center",prop:"postCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位名称",align:"center",prop:"postName"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位排序",align:"center",prop:"sort"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"1"===t.row.status?"danger":"success","disable-transitions":""}},[e._v(e._s(e.statusFormat(t.row)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbpost:scbpost:edit"],expression:"['scbpost:scbpost:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbpost:scbpost:remove"],expression:"['scbpost:scbpost:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"岗位名称",prop:"postName"}},[a("el-input",{attrs:{placeholder:"请输入岗位名称"},model:{value:e.form.postName,callback:function(t){e.$set(e.form,"postName",t)},expression:"form.postName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位编码",prop:"postCode"}},[a("el-input",{attrs:{placeholder:"请输入编码名称"},model:{value:e.form.postCode,callback:function(t){e.$set(e.form,"postCode",t)},expression:"form.postCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位顺序",prop:"sort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],i=a("924c"),n=a("ed08"),o={name:"ScbPost",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,postList:[],title:"",open:!1,statusOptions:[],queryParams:{pageIndex:1,pageSize:10,postCode:void 0,postName:void 0,status:void 0},form:{},rules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],sort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(i["e"])(this.queryParams).then((function(t){e.postList=t.data.list,e.total=t.data.count,e.loading=!1}))},statusFormat:function(e){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={postId:void 0,postCode:void 0,postName:void 0,sort:0,status:"0",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.postId})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加岗位"},handleUpdate:function(e){var t=this;this.reset();var a=e.postId||this.ids;Object(i["c"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改岗位"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.postId?Object(i["f"])(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(i["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.postId||this.ids;this.$confirm('是否确认删除岗位编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有岗位数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([a.e("chunk-23b9c8dc"),a.e("chunk-748b566e")]).then(a.bind(null,"4bf8d")).then((function(t){var a=["岗位编号","岗位编码","岗位名称","排序","创建时间"],s=["postId","postCode","postName","sort","createdAt"],r=e.postList,i=Object(n["c"])(s,r);t.export_json_to_excel({header:a,data:i,filename:"岗位管理",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))})).catch((function(){}))}}},l=o,c=a("2877"),u=Object(c["a"])(l,s,r,!1,null,null,null);t["default"]=u.exports},"9ed6":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,autocomplete:"on","label-position":"left"}},[a("div",{staticClass:"title-container"},[a("h3",{staticClass:"title"},[e._v("悟空管车")])]),e._v(" "),a("el-form-item",{attrs:{prop:"username"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"user"}})],1),e._v(" "),a("el-input",{ref:"username",attrs:{placeholder:"用户名",name:"username",type:"text",tabindex:"1",autocomplete:"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),a("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[a("el-form-item",{attrs:{prop:"password"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),a("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"密码",name:"password",tabindex:"2",autocomplete:"on"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:[function(t){return e.checkCapslock(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}]},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),e._v(" "),a("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[a("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1)],1),e._v(" "),a("el-form-item",{staticStyle:{width:"60%",float:"left"},attrs:{prop:"code"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"validCode"}})],1),e._v(" "),a("el-input",{ref:"username",staticStyle:{width:"75%"},attrs:{placeholder:"验证码",name:"username",type:"text",tabindex:"3",autocomplete:"off"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}})],1),e._v(" "),a("div",{staticClass:"login-code",staticStyle:{width:"38%",height:"48px",float:"right","background-color":"darkgray"}},[a("img",{staticStyle:{height:"48px",width:"100%"},attrs:{src:e.codeUrl},on:{click:e.getCode}})]),e._v(" "),a("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e.loading?a("span",[e._v("登 录 中...")]):a("span",[e._v("登 录")])])],1),e._v(" "),a("el-dialog",{attrs:{title:"Or connect with",visible:e.showDialog},on:{"update:visible":function(t){e.showDialog=t}}},[e._v("\n    Can not be simulated on local, so please combine you own business simulation! ! !\n    "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("social-sign")],1)],1)},r=[],i=(a("ac6a"),a("456d"),a("b775"));function n(){return Object(i["a"])({url:"/api/v1/getCaptcha",method:"get"})}var o=a("c62e"),l={name:"Login",components:{SocialSign:o["default"]},data:function(){return{codeUrl:"",cookiePassword:"",loginForm:{username:"",password:"",rememberMe:!1,code:"",uuid:""},loginRules:{username:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}],code:[{required:!0,trigger:"change",message:"验证码不能为空"}]},passwordType:"password",capsTooltip:!1,loading:!1,showDialog:!1,redirect:void 0,otherQuery:{}}},watch:{$route:{handler:function(e){var t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t))},immediate:!0}},created:function(){this.getCode()},mounted:function(){""===this.loginForm.username?this.$refs.username.focus():""===this.loginForm.password&&this.$refs.password.focus()},destroyed:function(){},methods:{getCode:function(){var e=this;n().then((function(t){void 0!==t&&(e.codeUrl=t.data,e.loginForm.uuid=t.id)}))},checkCapslock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shiftKey,a=e.key;a&&1===a.length&&(this.capsTooltip=!!(t&&a>="a"&&a<="z"||!t&&a>="A"&&a<="Z")),"CapsLock"===a&&!0===this.capsTooltip&&(this.capsTooltip=!1)},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,e.$store.dispatch("user/login",e.loginForm).then((function(){e.$router.push({path:e.redirect||"/",query:e.otherQuery}),e.loading=!1})).catch((function(){e.loading=!1,e.getCode()}))}))},getOtherQuery:function(e){return Object.keys(e).reduce((function(t,a){return"redirect"!==a&&(t[a]=e[a]),t}),{})}}},c=l,u=(a("2017"),a("f7ef"),a("2877")),d=Object(u["a"])(c,s,r,!1,null,"2e8f2478",null);t["default"]=d.exports},a137:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("upload-excel-component",{attrs:{"on-success":e.handleSuccess,"before-upload":e.beforeUpload}}),e._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.tableData,border:"","highlight-current-row":""}},e._l(e.tableHeader,(function(e){return a("el-table-column",{key:e,attrs:{prop:e,label:e}})})),1)],1)},r=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("input",{ref:"excel-upload-input",staticClass:"excel-upload-input",attrs:{type:"file",accept:".xlsx, .xls"},on:{change:e.handleClick}}),e._v(" "),a("div",{staticClass:"drop",on:{drop:e.handleDrop,dragover:e.handleDragover,dragenter:e.handleDragover}},[e._v("\n    Drop excel file here or\n    "),a("el-button",{staticStyle:{"margin-left":"16px"},attrs:{loading:e.loading,size:"mini",type:"primary"},on:{click:e.handleUpload}},[e._v("\n      Browse\n    ")])],1)])},n=[],o=(a("7f7f"),a("1146")),l=a.n(o),c={props:{beforeUpload:Function,onSuccess:Function},data:function(){return{loading:!1,excelData:{header:null,results:null}}},methods:{generateData:function(e){var t=e.header,a=e.results;this.excelData.header=t,this.excelData.results=a,this.onSuccess&&this.onSuccess(this.excelData)},handleDrop:function(e){if(e.stopPropagation(),e.preventDefault(),!this.loading){var t=e.dataTransfer.files;if(1===t.length){var a=t[0];if(!this.isExcel(a))return this.$message.error("Only supports upload .xlsx, .xls, .csv suffix files"),!1;this.upload(a),e.stopPropagation(),e.preventDefault()}else this.$message.error("Only support uploading one file!")}},handleDragover:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},handleUpload:function(){this.$refs["excel-upload-input"].click()},handleClick:function(e){var t=e.target.files,a=t[0];a&&this.upload(a)},upload:function(e){if(this.$refs["excel-upload-input"].value=null,this.beforeUpload){var t=this.beforeUpload(e);t&&this.readerData(e)}else this.readerData(e)},readerData:function(e){var t=this;return this.loading=!0,new Promise((function(a,s){var r=new FileReader;r.onload=function(e){var s=e.target.result,r=l.a.read(s,{type:"array"}),i=r.SheetNames[0],n=r.Sheets[i],o=t.getHeaderRow(n),c=l.a.utils.sheet_to_json(n);t.generateData({header:o,results:c}),t.loading=!1,a()},r.readAsArrayBuffer(e)}))},getHeaderRow:function(e){var t,a=[],s=l.a.utils.decode_range(e["!ref"]),r=s.s.r;for(t=s.s.c;t<=s.e.c;++t){var i=e[l.a.utils.encode_cell({c:t,r:r})],n="UNKNOWN "+t;i&&i.t&&(n=l.a.utils.format_cell(i)),a.push(n)}return a},isExcel:function(e){return/\.(xlsx|xls|csv)$/.test(e.name)}}},u=c,d=(a("67df"),a("2877")),m=Object(d["a"])(u,i,n,!1,null,"d2407dd6",null),p=m.exports,f={name:"UploadExcel",components:{UploadExcelComponent:p},data:function(){return{tableData:[],tableHeader:[]}},methods:{beforeUpload:function(e){var t=e.size/1024/1024<10;return!!t||(this.$message({message:"Please do not upload files larger than 1m in size.",type:"warning"}),!1)},handleSuccess:function(e){var t=e.results,a=e.header;this.tableData=t,this.tableHeader=a}}},v=f,h=Object(d["a"])(v,s,r,!1,null,null,null);t["default"]=h.exports},a36b:function(e,t,a){e.exports=a.p+"static/img/404.a57b6f31.png"},a6dc:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"f",(function(){return n})),a.d(t,"e",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"g",(function(){return c})),a.d(t,"b",(function(){return u}));var s=a("b775");function r(e){return Object(s["a"])({url:"/api/v1/menulist",method:"get",params:e})}function i(e){return Object(s["a"])({url:"/api/v1/menu/"+e,method:"get"})}function n(){return Object(s["a"])({url:"/api/v1/menuTreeselect",method:"get"})}function o(e){return Object(s["a"])({url:"/api/v1/roleMenuTreeselect/"+e,method:"get"})}function l(e){return Object(s["a"])({url:"/api/v1/menu",method:"post",data:e})}function c(e){return Object(s["a"])({url:"/api/v1/menu",method:"put",data:e})}function u(e){return Object(s["a"])({url:"/api/v1/menu/"+e,method:"delete"})}},a8c4:function(e,t,a){var s={"./views/config":"eb43","./views/config/":"eb43","./views/config/index":"eb43","./views/config/index.vue":"eb43","./views/dashboard":"9406","./views/dashboard/":"9406","./views/dashboard/admin":"3f2c","./views/dashboard/admin/":"3f2c","./views/dashboard/admin/components/BarChart":"5f84","./views/dashboard/admin/components/BarChart.vue":"5f84","./views/dashboard/admin/components/BoxCard":"8269","./views/dashboard/admin/components/BoxCard.vue":"8269","./views/dashboard/admin/components/LineChart":"36ef","./views/dashboard/admin/components/LineChart.vue":"36ef","./views/dashboard/admin/components/PanelGroup":"6768","./views/dashboard/admin/components/PanelGroup.vue":"6768","./views/dashboard/admin/components/PieChart":"2044","./views/dashboard/admin/components/PieChart.vue":"2044","./views/dashboard/admin/components/RaddarChart":"7b75","./views/dashboard/admin/components/RaddarChart.vue":"7b75","./views/dashboard/admin/components/TodoList":"2544","./views/dashboard/admin/components/TodoList/":"2544","./views/dashboard/admin/components/TodoList/Todo":"ced4","./views/dashboard/admin/components/TodoList/Todo.vue":"ced4","./views/dashboard/admin/components/TodoList/index":"2544","./views/dashboard/admin/components/TodoList/index.scss":"5211","./views/dashboard/admin/components/TodoList/index.vue":"2544","./views/dashboard/admin/components/TransactionTable":"2f3f","./views/dashboard/admin/components/TransactionTable.vue":"2f3f","./views/dashboard/admin/components/mixins/resize":"a7dc","./views/dashboard/admin/components/mixins/resize.js":"a7dc","./views/dashboard/admin/index":"3f2c","./views/dashboard/admin/index.vue":"3f2c","./views/dashboard/editor":"5851","./views/dashboard/editor/":"5851","./views/dashboard/editor/index":"5851","./views/dashboard/editor/index.vue":"5851","./views/dashboard/index":"9406","./views/dashboard/index.vue":"9406","./views/dept":"f37e","./views/dept/":"f37e","./views/dept/index":"f37e","./views/dept/index.vue":"f37e","./views/dict":"3225","./views/dict/":"3225","./views/dict/data":"c4c9","./views/dict/data.vue":"c4c9","./views/dict/index":"3225","./views/dict/index.vue":"3225","./views/error-page/401":"24e2","./views/error-page/401.vue":"24e2","./views/error-page/404":"1db4","./views/error-page/404.vue":"1db4","./views/excel/components/AutoWidthOption":"8ad2","./views/excel/components/AutoWidthOption.vue":"8ad2","./views/excel/components/BookTypeOption":"ebe1","./views/excel/components/BookTypeOption.vue":"ebe1","./views/excel/components/FilenameOption":"50ce","./views/excel/components/FilenameOption.vue":"50ce","./views/excel/upload-excel":"a137","./views/excel/upload-excel.vue":"a137","./views/log":"5905","./views/log/":"5905","./views/log/index":"5905","./views/log/index.vue":"5905","./views/login":"9ed6","./views/login/":"9ed6","./views/login/auth-redirect":"b829","./views/login/auth-redirect.vue":"b829","./views/login/components/SocialSignin":"c62e","./views/login/components/SocialSignin.vue":"c62e","./views/login/index":"9ed6","./views/login/index.vue":"9ed6","./views/loginlog":"bce9","./views/loginlog/":"bce9","./views/loginlog/index":"bce9","./views/loginlog/index.vue":"bce9","./views/menu":"f833","./views/menu/":"f833","./views/menu/index":"f833","./views/menu/index.vue":"f833","./views/monitor/server":"2a33","./views/monitor/server/":"2a33","./views/monitor/server/index":"2a33","./views/monitor/server/index.vue":"2a33","./views/operlog":"0f40","./views/operlog/":"0f40","./views/operlog/index":"0f40","./views/operlog/index.vue":"0f40","./views/orders":"2fbb","./views/orders/":"2fbb","./views/orders/index":"2fbb","./views/orders/index.vue":"2fbb","./views/post":"d99d","./views/post/":"d99d","./views/post/index":"d99d","./views/post/index.vue":"d99d","./views/profile":"ecac","./views/profile/":"ecac","./views/profile/components/Account":"e206","./views/profile/components/Account.vue":"e206","./views/profile/components/Activity":"7115","./views/profile/components/Activity.vue":"7115","./views/profile/components/Timeline":"fb8d","./views/profile/components/Timeline.vue":"fb8d","./views/profile/components/UserCard":"7faf","./views/profile/components/UserCard.vue":"7faf","./views/profile/index":"ecac","./views/profile/index.vue":"ecac","./views/profile/resetPwd":"3823","./views/profile/resetPwd.vue":"3823","./views/profile/userAvatar":"88c9","./views/profile/userAvatar.vue":"88c9","./views/profile/userInfo":"2dde","./views/profile/userInfo.vue":"2dde","./views/redirect":"ef3c","./views/redirect/":"ef3c","./views/redirect/index":"ef3c","./views/redirect/index.vue":"ef3c","./views/role":"6c35","./views/role/":"6c35","./views/role/index":"6c35","./views/role/index.vue":"6c35","./views/scbcarrecord":"c9e1","./views/scbcarrecord/":"c9e1","./views/scbcarrecord/index":"c9e1","./views/scbcarrecord/index.vue":"c9e1","./views/scbcars":"6b4cd","./views/scbcars/":"6b4cd","./views/scbcars/index":"6b4cd","./views/scbcars/index.vue":"6b4cd","./views/scbdept":"8437","./views/scbdept/":"8437","./views/scbdept/index":"8437","./views/scbdept/index.vue":"8437","./views/scbfollowrecord":"334f","./views/scbfollowrecord/":"334f","./views/scbfollowrecord/index":"334f","./views/scbfollowrecord/index.vue":"334f","./views/scblines":"5cad","./views/scblines/":"5cad","./views/scblines/index":"5cad","./views/scblines/index.vue":"5cad","./views/scbpost":"99a2","./views/scbpost/":"99a2","./views/scbpost/index":"99a2","./views/scbpost/index.vue":"99a2","./views/scbstudents":"c8f2","./views/scbstudents/":"c8f2","./views/scbstudents/index":"c8f2","./views/scbstudents/index.vue":"c8f2","./views/scbteachers":"02db","./views/scbteachers/":"02db","./views/scbteachers/index":"02db","./views/scbteachers/index.vue":"02db","./views/school":"5d2b","./views/school/":"5d2b","./views/school/index":"5d2b","./views/school/index.vue":"5d2b","./views/schsites":"f184","./views/schsites/":"f184","./views/schsites/index":"f184","./views/schsites/index.vue":"f184","./views/sysuser":"b9cb","./views/sysuser/":"b9cb","./views/sysuser/index":"b9cb","./views/sysuser/index.vue":"b9cb","./views/tools/build":"036f","./views/tools/build/":"036f","./views/tools/build/index":"036f","./views/tools/build/index.vue":"036f","./views/tools/gen":"837b","./views/tools/gen/":"837b","./views/tools/gen/basicInfoForm":"1eef","./views/tools/gen/basicInfoForm.vue":"1eef","./views/tools/gen/editTable":"b574","./views/tools/gen/editTable.vue":"b574","./views/tools/gen/genInfoForm":"fbf4","./views/tools/gen/genInfoForm.vue":"fbf4","./views/tools/gen/importTable":"24eb","./views/tools/gen/importTable.vue":"24eb","./views/tools/gen/index":"837b","./views/tools/gen/index.vue":"837b","./views/tools/swagger":"1eb1","./views/tools/swagger/":"1eb1","./views/tools/swagger/index":"1eb1","./views/tools/swagger/index.vue":"1eb1","./views/useraccount":"91a3","./views/useraccount/":"91a3","./views/useraccount/index":"91a3","./views/useraccount/index.vue":"91a3"};function r(e){var t=i(e);return a(t)}function i(e){var t=s[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(s)},r.resolve=i,e.exports=r,r.id="a8c4"},aa5a:function(e,t,a){"use strict";var s=a("4c4f"),r=a.n(s);r.a},acc5:function(e,t,a){},aee9:function(e,t,a){"use strict";var s=a("bd0d"),r=a.n(s);r.a},af87:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return n})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return l}));var s=a("b775");function r(e){return Object(s["a"])({url:"/api/v1/scbdeptList",method:"get",params:e})}function i(e){return Object(s["a"])({url:"/api/v1/scbdept/"+e,method:"get"})}function n(e){return Object(s["a"])({url:"/api/v1/scbdept",method:"post",data:e})}function o(e){return Object(s["a"])({url:"/api/v1/scbdept",method:"put",data:e})}function l(e){return Object(s["a"])({url:"/api/v1/scbdept/"+e,method:"delete"})}},b12d:function(e,t,a){},b150:function(e,t,a){"use strict";a.d(t,"i",(function(){return r})),a.d(t,"e",(function(){return i})),a.d(t,"f",(function(){return n})),a.d(t,"a",(function(){return o})),a.d(t,"k",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"j",(function(){return d})),a.d(t,"b",(function(){return m})),a.d(t,"g",(function(){return p})),a.d(t,"l",(function(){return f})),a.d(t,"m",(function(){return v})),a.d(t,"h",(function(){return h}));var s=a("b775");function r(e){return Object(s["a"])({url:"/api/v1/sysUserList",method:"get",params:e})}function i(e){return Object(s["a"])({url:"/api/v1/sysUser/"+e,method:"get"})}function n(){return Object(s["a"])({url:"/api/v1/sysUser/",method:"get"})}function o(e){return Object(s["a"])({url:"/api/v1/sysUser",method:"post",data:e})}function l(e){return Object(s["a"])({url:"/api/v1/sysUser",method:"put",data:e})}function c(e){return Object(s["a"])({url:"/api/v1/sysUser/"+e,method:"delete"})}function u(e){return Object(s["a"])({url:"/api/v1/sysUser/export",method:"get",params:e})}function d(e,t){var a={userId:e,password:t};return Object(s["a"])({url:"/api/v1/sysUser",method:"put",data:a})}function m(e,t){var a={userId:e,status:t};return Object(s["a"])({url:"/api/v1/sysUser",method:"put",data:a})}function p(){return Object(s["a"])({url:"/api/v1/user/profile",method:"get"})}function f(e,t){var a={oldPassword:e,newPassword:t};return Object(s["a"])({url:"/api/v1/user/pwd",method:"put",data:a})}function v(e){return Object(s["a"])({url:"/api/v1/user/avatar",method:"post",data:e})}function h(){return Object(s["a"])({url:"/api/v1/sysUser/importTemplate",method:"get"})}},b574:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"basic"}},[a("basic-info-form",{ref:"basicInfo",attrs:{info:e.info}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"字段信息",name:"cloum"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.columns,"max-height":e.tableHeight}},[a("el-table-column",{attrs:{fixed:"",label:"序号",type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"字段列名",prop:"columnName",width:"150","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"字段描述",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.columnComment,callback:function(a){e.$set(t.row,"columnComment",a)},expression:"scope.row.columnComment"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"物理类型",prop:"columnType",width:"120","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"go类型",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.goType,callback:function(a){e.$set(t.row,"goType",a)},expression:"scope.row.goType"}},[a("el-option",{attrs:{label:"int",value:"int"}}),e._v(" "),a("el-option",{attrs:{label:"string",value:"string"}}),e._v(" "),a("el-option",{attrs:{label:"Time",value:"time.Time"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"go属性",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.goField,callback:function(a){e.$set(t.row,"goField",a)},expression:"scope.row.goField"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"json属性",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.jsonField,callback:function(a){e.$set(t.row,"jsonField",a)},expression:"scope.row.jsonField"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"插入",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.row.isInsert,callback:function(a){e.$set(t.row,"isInsert",a)},expression:"scope.row.isInsert"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"编辑",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.row.isEdit,callback:function(a){e.$set(t.row,"isEdit",a)},expression:"scope.row.isEdit"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"列表",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.row.isList,callback:function(a){e.$set(t.row,"isList",a)},expression:"scope.row.isList"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"查询",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.row.isQuery,callback:function(a){e.$set(t.row,"isQuery",a)},expression:"scope.row.isQuery"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"查询方式",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.queryType,callback:function(a){e.$set(t.row,"queryType",a)},expression:"scope.row.queryType"}},[a("el-option",{attrs:{label:"=",value:"EQ"}}),e._v(" "),a("el-option",{attrs:{label:"!=",value:"NE"}}),e._v(" "),a("el-option",{attrs:{label:">",value:"GT"}}),e._v(" "),a("el-option",{attrs:{label:">=",value:"GTE"}}),e._v(" "),a("el-option",{attrs:{label:"<",value:"LT"}}),e._v(" "),a("el-option",{attrs:{label:"<=",value:"LTE"}}),e._v(" "),a("el-option",{attrs:{label:"LIKE",value:"LIKE"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"必填",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isRequired,callback:function(a){e.$set(t.row,"isRequired",a)},expression:"scope.row.isRequired"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"显示类型",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.htmlType,callback:function(a){e.$set(t.row,"htmlType",a)},expression:"scope.row.htmlType"}},[a("el-option",{attrs:{label:"文本框",value:"input"}}),e._v(" "),a("el-option",{attrs:{label:"下拉框",value:"select"}}),e._v(" "),a("el-option",{attrs:{label:"单选框",value:"radio"}}),e._v(" "),a("el-option",{attrs:{label:"文本域",value:"textarea"}}),e._v(" "),a("el-option",{attrs:{label:"日期控件",value:"datetime"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"字典类型",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.row.dictType,callback:function(a){e.$set(t.row,"dictType",a)},expression:"scope.row.dictType"}},e._l(e.dictOptions,(function(t){return a("el-option",{key:t.dictType,attrs:{label:t.dictName,value:t.dictType}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.dictName))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.dictType))])])})),1)]}}])})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"生成信息",name:"genInfo"}},[a("gen-info-form",{ref:"genInfo",attrs:{info:e.info}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{staticStyle:{"text-align":"center","margin-left":"-100px","margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){return e.close()}}},[e._v("返回")])],1)],1)],1)},r=[],i=(a("ac6a"),a("5df3"),a("4aab")),n=a("ed45"),o=a("1eef"),l=a("fbf4"),c={name:"GenEdit",components:{basicInfoForm:o["default"],genInfoForm:l["default"]},data:function(){return{activeName:"cloum",tableHeight:document.documentElement.scrollHeight-245+"px",columns:[],dictOptions:[],info:{}}},beforeCreate:function(){var e=this,t=this.$route.query.tableId;t&&(Object(i["b"])(t).then((function(t){e.columns=t.data.rows,e.info=t.data.info})),Object(n["e"])().then((function(t){e.dictOptions=t.data})))},methods:{submitForm:function(){var e=this,t=this.$refs.basicInfo.$refs.basicInfoForm,a=this.$refs.genInfo.$refs.genInfoForm;Promise.all([t,a].map(this.getFormPromise)).then((function(s){var r=s.every((function(e){return!!e}));if(r){var n=Object.assign({},t.model,a.model);console.log(e.columns),n.columns=e.columns,n.params={treeCode:n.treeCode,treeName:n.treeName,treeParentCode:n.treeParentCode},Object(i["i"])(n).then((function(t){e.msgSuccess(t.msg),200===t.code&&e.close()}))}else e.msgError("表单校验未通过，请重新检查提交内容")}))},getFormPromise:function(e){return new Promise((function(t){e.validate((function(e){t(e)}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/tools/gen",query:{t:Date.now()}})}}},u=c,d=a("2877"),m=Object(d["a"])(u,s,r,!1,null,null,null);t["default"]=m.exports},b746:function(e,t,a){},b829:function(e,t,a){"use strict";a.r(t);a("386d");var s,r,i={name:"AuthRedirect",created:function(){var e=window.location.search.slice(1);window.localStorage&&(window.localStorage.setItem("x-admin-oauth-code",e),window.close())},render:function(e){return e()}},n=i,o=a("2877"),l=Object(o["a"])(n,s,r,!1,null,null,null);t["default"]=l.exports},b948:function(e,t,a){},b9cb:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4,xs:24}},[a("div",{staticClass:"head-container"},[a("el-input",{staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"请输入部门名称",clearable:"",size:"small","prefix-icon":"el-icon-search"},model:{value:e.deptName,callback:function(t){e.deptName=t},expression:"deptName"}})],1),e._v(" "),a("div",{staticClass:"head-container"},[a("el-tree",{ref:"tree",attrs:{data:e.deptOptions,props:e.defaultProps,"expand-on-click-node":!1,"filter-node-method":e.filterNode,"default-expand-all":""},on:{"node-click":e.handleNodeClick}})],1)]),e._v(" "),a("el-col",{attrs:{span:20,xs:24}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"用户名称",prop:"username"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.username,callback:function(t){e.$set(e.queryParams,"username",t)},expression:"queryParams.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入手机号码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.phone,callback:function(t){e.$set(e.queryParams,"phone",t)},expression:"queryParams.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"用户状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysuser:add"],expression:"['system:sysuser:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysuser:edit"],expression:"['system:sysuser:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysuser:remove"],expression:"['system:sysuser:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.userList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"编号",width:"50",align:"center",prop:"userId"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户名称",align:"center",prop:"username","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"用户昵称",align:"center",prop:"nickName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"部门",align:"center",prop:"deptName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"手机号码",align:"center",prop:"phone",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"165"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"220","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysuser:edit"],expression:"['system:sysuser:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),1!==t.row.userId?a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysuser:remove"],expression:"['system:sysuser:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e(),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysuser:resetPassword"],expression:"['system:sysuser:resetPassword']"}],attrs:{size:"mini",type:"text",icon:"el-icon-key"},on:{click:function(a){return e.handleResetPwd(t.row)}}},[e._v("重置")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"归属部门",prop:"deptId"}},[a("treeselect",{attrs:{options:e.deptOptions,normalizer:e.normalizer,placeholder:"请选择归属部门"},model:{value:e.form.deptId,callback:function(t){e.$set(e.form,"deptId",t)},expression:"form.deptId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入手机号码",maxlength:"11"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户名称",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入用户名称"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[void 0==e.form.userId?a("el-form-item",{attrs:{label:"用户密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入用户密码",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户性别"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},e._l(e.sexOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"岗位"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.$forceUpdate()}},model:{value:e.form.postId,callback:function(t){e.$set(e.form,"postId",t)},expression:"form.postId"}},e._l(e.postOptions,(function(e){return a("el-option",{key:e.postId,attrs:{label:e.postName,value:e.postId,disabled:1==e.status}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.$forceUpdate()}},model:{value:e.form.roleId,callback:function(t){e.$set(e.form,"roleId",t)},expression:"form.roleId"}},e._l(e.roleOptions,(function(e){return a("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId,disabled:1==e.status}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.upload.title,visible:e.upload.open,width:"400px"},on:{"update:visible":function(t){return e.$set(e.upload,"open",t)}}},[a("el-upload",{ref:"upload",attrs:{limit:1,accept:".xlsx, .xls",headers:e.upload.headers,action:e.upload.url+"?updateSupport="+e.upload.updateSupport,disabled:e.upload.isUploading,"on-progress":e.handleFileUploadProgress,"on-success":e.handleFileSuccess,"auto-upload":!1,drag:""}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("\n        将文件拖到此处，或\n        "),a("em",[e._v("点击上传")])]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[a("el-checkbox",{model:{value:e.upload.updateSupport,callback:function(t){e.$set(e.upload,"updateSupport",t)},expression:"upload.updateSupport"}}),e._v("是否更新已经存在的用户数据\n        "),a("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"info"},on:{click:e.importTemplate}},[e._v("下载模板")])],1),e._v(" "),a("div",{staticClass:"el-upload__tip",staticStyle:{color:"red"},attrs:{slot:"tip"},slot:"tip"},[e._v("提示：仅允许导入“xls”或“xlsx”格式文件！")])]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFileForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.upload.open=!1}}},[e._v("取 消")])],1)],1)],1)},r=[],i=a("b150"),n=a("5f87"),o=a("fcb7"),l=a("ca17"),c=a.n(l),u=(a("542c"),{name:"User",components:{Treeselect:c.a},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,userList:null,title:"",deptOptions:void 0,open:!1,deptName:void 0,initPassword:void 0,dateRange:[],statusOptions:[],sexOptions:[],postOptions:[],roleOptions:[],form:{},defaultProps:{children:"children",label:"deptName"},upload:{open:!1,title:"",isUploading:!1,updateSupport:0,headers:{Authorization:"Bearer "+Object(n["a"])()},url:"https://sc.kenashua.com/system/user/importData"},queryParams:{pageIndex:1,pageSize:10,username:void 0,phone:void 0,status:void 0,deptId:void 0},rules:{username:[{required:!0,message:"用户名称不能为空",trigger:"blur"}],nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],deptId:[{required:!0,message:"归属部门不能为空",trigger:"blur"}],password:[{required:!0,message:"用户密码不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},watch:{deptName:function(e){this.$refs.tree.filter(e)}},created:function(){var e=this;this.getList(),this.getTreeselect(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data})),this.getDicts("sys_user_sex").then((function(t){e.sexOptions=t.data})),this.getConfigKey("sys.user.initPassword").then((function(t){e.initPassword=t.msg}))},methods:{getList:function(){var e=this;this.loading=!0,Object(i["i"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.userList=t.data.list,e.total=t.data.count,e.loading=!1}))},getTreeselect:function(){var e=this;Object(o["f"])().then((function(t){e.deptOptions=t.data}))},filterNode:function(e,t){return!e||-1!==t.deptName.indexOf(e)},handleNodeClick:function(e){this.queryParams.deptId=e.deptId,this.getList()},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.deptId,label:e.deptName,children:e.children}},handleStatusChange:function(e){var t=this,a="0"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.username+'"用户吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["b"])(e.userId,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={userId:void 0,deptId:void 0,username:void 0,nickName:void 0,password:void 0,phone:void 0,email:void 0,sex:void 0,status:"0",remark:void 0,postIds:void 0,roleIds:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.page=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.userId})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){var e=this;this.reset(),this.getTreeselect(),Object(i["f"])().then((function(t){e.postOptions=t.data.posts,e.roleOptions=t.data.roles,e.open=!0,e.title="添加用户",e.form.password=e.initPassword}))},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect();var a=e.userId||this.ids;Object(i["e"])(a).then((function(e){t.form=e.data,t.postOptions=e.posts,t.roleOptions=e.roles,t.form.postIds=e.postIds[0],t.form.roleIds=e.roleIds[0],t.open=!0,t.title="修改用户",t.form.password=""}))},handleResetPwd:function(e){var t=this;this.$prompt('请输入"'+e.username+'"的新密码',"提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(a){var s=a.value;Object(i["j"])(e.userId,s).then((function(e){200===e.code?t.msgSuccess("修改成功，新密码是："+s):t.msgError(e.msg)}))})).catch((function(){}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.userId?Object(i["k"])(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(i["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.userId||this.ids;this.$confirm('是否确认删除用户编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["c"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有用户数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["d"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))},handleImport:function(){this.upload.title="用户导入",this.upload.open=!0},importTemplate:function(){var e=this;Object(i["h"])().then((function(t){e.download(t.msg)}))},handleFileUploadProgress:function(e,t,a){this.upload.isUploading=!0},handleFileSuccess:function(e,t,a){this.upload.open=!1,this.upload.isUploading=!1,this.$refs.upload.clearFiles(),this.$alert(e.msg,"导入结果",{dangerouslyUseHTMLString:!0}),this.getList()},submitFileForm:function(){this.$refs.upload.submit()}}}),d=u,m=a("2877"),p=Object(m["a"])(d,s,r,!1,null,null,null);t["default"]=p.exports},bce9:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"登录地址",prop:"ipaddr"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入登录地址",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.ipaddr,callback:function(t){e.$set(e.queryParams,"ipaddr",t)},expression:"queryParams.ipaddr"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"登录状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysloginlog:remove"],expression:"['system:sysloginlog:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysloginlog:remove"],expression:"['system:sysloginlog:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysloginlog:export"],expression:"['system:sysloginlog:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"编号",width:"70",align:"center",prop:"infoId"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户名称",width:"85",align:"center",prop:"username"}}),e._v(" "),a("el-table-column",{attrs:{label:"登录地址",align:"center",prop:"ipaddr",width:"130","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"登录地点",align:"center",prop:"loginLocation"}}),e._v(" "),a("el-table-column",{attrs:{label:"浏览器",align:"center",prop:"browser"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作系统",align:"center",prop:"os"}}),e._v(" "),a("el-table-column",{attrs:{label:"登录状态",width:"80",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作信息",width:"90",align:"center",prop:"msg"}}),e._v(" "),a("el-table-column",{attrs:{label:"登录日期",align:"center",prop:"loginTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.loginTime)))])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)},r=[],i=a("b775");function n(e){return Object(i["a"])({url:"/api/v1/loginloglist",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/api/v1/loginlog/"+e,method:"delete"})}function l(){return Object(i["a"])({url:"/api/v1/loginlog/clean",method:"delete"})}var c=a("ed08"),u={name:"Logininfor",data:function(){return{loading:!0,ids:[],multiple:!0,total:0,list:[],statusOptions:[],dateRange:[],queryParams:{pageIndex:1,pageSize:10,ipaddr:void 0,userName:void 0,status:void 0}}},created:function(){var e=this;this.getList(),this.getDicts("sys_common_status").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,n(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.list=t.data.list,e.total=t.data.count,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.infoId})),this.multiple=!e.length},handleDelete:function(e){var t=this,a=e.infoId||this.ids;this.$confirm('是否确认删除访问编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return o(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleClean:function(){var e=this;this.$confirm("是否确认清空所有登录日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return l()})).then((function(){e.getList(),e.msgSuccess("清空成功")})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有操作日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([a.e("chunk-23b9c8dc"),a.e("chunk-748b566e")]).then(a.bind(null,"4bf8d")).then((function(t){var a=["编号","用户名称","登陆地址","登陆地点","浏览器","操作系统","登陆状态","操作信息","登陆日期"],s=["infoId","username","ipaddr","loginLocation","browser","os","status","msg","loginTime"],r=e.list,i=Object(c["c"])(s,r);t.export_json_to_excel({header:a,data:i,filename:"登陆日志",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))}))}}},d=u,m=a("2877"),p=Object(m["a"])(d,s,r,!1,null,null,null);t["default"]=p.exports},bd0d:function(e,t,a){},c107:function(e,t,a){},c4c9:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictType"}},[a("el-select",{attrs:{size:"small"},model:{value:e.queryParams.dictType,callback:function(t){e.$set(e.queryParams,"dictType",t)},expression:"queryParams.dictType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictType}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"字典标签",prop:"dictLabel"}},[a("el-input",{attrs:{placeholder:"请输入字典标签",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictLabel,callback:function(t){e.$set(e.queryParams,"dictLabel",t)},expression:"queryParams.dictLabel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"数据状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysdictdata:add"],expression:"['system:sysdictdata:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysdictdata:edit"],expression:"['system:sysdictdata:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysdictdata:remove"],expression:"['system:sysdictdata:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.dataList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典编码",width:"80",align:"center",prop:"dictCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典标签",align:"center",prop:"dictLabel"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典键值",align:"center",prop:"dictValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典排序",align:"center",prop:"dictSort"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysdictdata:edit"],expression:"['system:sysdictdata:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysdictdata:remove"],expression:"['system:sysdictdata:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"字典类型"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.dictType,callback:function(t){e.$set(e.form,"dictType",t)},expression:"form.dictType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据标签",prop:"dictLabel"}},[a("el-input",{attrs:{placeholder:"请输入数据标签",disabled:e.isEdit},model:{value:e.form.dictLabel,callback:function(t){e.$set(e.form,"dictLabel",t)},expression:"form.dictLabel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据键值",prop:"dictValue"}},[a("el-input",{attrs:{placeholder:"请输入数据键值",disabled:e.isEdit},model:{value:e.form.dictValue,callback:function(t){e.$set(e.form,"dictValue",t)},expression:"form.dictValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"显示排序",prop:"dictSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.dictSort,callback:function(t){e.$set(e.form,"dictSort",t)},expression:"form.dictSort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],i=a("aa3a"),n=a("ed45"),o={name:"Data",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,dataList:[],defaultDictType:"",title:"",isEdit:!1,open:!1,statusOptions:[],typeOptions:[],queryParams:{pageIndex:1,pageSize:10,dictName:void 0,dictType:void 0,status:void 0},form:{},rules:{dictLabel:[{required:!0,message:"数据标签不能为空",trigger:"blur"}],dictValue:[{required:!0,message:"数据键值不能为空",trigger:"blur"}],dictSort:[{required:!0,message:"数据顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this,t=this.$route.params&&this.$route.params.dictId;this.getType(t),this.getTypeList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getType:function(e){var t=this;Object(n["c"])(e).then((function(e){t.queryParams.dictType=e.data.dictType,t.defaultDictType=e.data.dictType,t.getList()}))},getTypeList:function(){var e=this;Object(n["d"])().then((function(t){e.typeOptions=t.data.list}))},getList:function(){var e=this;this.loading=!0,Object(i["f"])(this.queryParams).then((function(t){e.dataList=t.data.list,e.total=t.data.count,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={dictCode:void 0,dictLabel:void 0,dictValue:void 0,dictSort:0,status:"0",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.queryParams.dictType=this.defaultDictType,this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加字典数据",this.isEdit=!1,this.form.dictType=this.queryParams.dictType},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.dictCode})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.dictCode||this.ids;Object(i["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改字典数据",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.dictCode?Object(i["g"])(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(i["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.dictCode||this.ids;this.$confirm('是否确认删除字典编码为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["c"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},l=o,c=a("2877"),u=Object(c["a"])(l,s,r,!1,null,null,null);t["default"]=u.exports},c62e:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"social-signup-container"},[a("div",{staticClass:"sign-btn",on:{click:function(t){return e.wechatHandleClick("wechat")}}},[a("span",{staticClass:"wx-svg-container"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"wechat"}})],1),e._v("\n    WeChat\n  ")]),e._v(" "),a("div",{staticClass:"sign-btn",on:{click:function(t){return e.tencentHandleClick("tencent")}}},[a("span",{staticClass:"qq-svg-container"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"qq"}})],1),e._v("\n    QQ\n  ")])])},r=[],i={name:"SocialSignin",methods:{wechatHandleClick:function(e){alert("ok")},tencentHandleClick:function(e){alert("ok")}}},n=i,o=(a("d9fb"),a("2877")),l=Object(o["a"])(n,s,r,!1,null,"7309fbbb",null);t["default"]=l.exports},c8f2:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"关键词",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入学号/姓名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbstudents:scbstudents:add"],expression:"['scbstudents:scbstudents:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n      ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbstudents:scbstudents:edit"],expression:"['scbstudents:scbstudents:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改\n      ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbstudents:scbstudents:remove"],expression:"['scbstudents:scbstudents:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除\n      ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.scbstudentsList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"学号",align:"center",prop:"number","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"姓名",align:"center",prop:"name","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"班级",align:"center",prop:"className","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"线路",align:"center",prop:"lineName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"上车站点名称",align:"center",prop:"siteUpName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"下车站点名称",align:"center",prop:"siteDownName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"车辆",align:"center",prop:"carNo","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"家长电话",align:"center",prop:"parentPhone","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"图片",align:"center",prop:"picture","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbstudents:scbstudents:edit"],expression:"['scbstudents:scbstudents:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改\n        ")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbstudents:scbstudents:remove"],expression:"['scbstudents:scbstudents:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"700px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{position:"absolute",right:"10px","z-index":"5"},attrs:{span:15}},[a("el-form-item",{attrs:{label:"图片",prop:"picture",required:""}},[a("el-upload",{ref:"picture",class:{disabled:e.uploadDisabled},attrs:{"file-list":e.picturefileList,limit:1,action:e.pictureAction,"auto-upload":!1,"before-upload":e.pictureBeforeUpload,"on-change":e.onUploadChange,"on-success":e.onUploadSuccess,"on-remove":e.handleRemove,disabled:e.showdisabled,"list-type":"picture-card",accept:"image/*",name:"picture"}},[a("i",{staticClass:"el-icon-plus"}),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传不超过 2MB 的图片文件")])])],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"学号",prop:"number"}},[a("el-input",{attrs:{placeholder:"学号"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"班级",prop:"classId"}},[a("el-cascader",{style:{width:"100%"},attrs:{options:e.deptOptions,props:e.classIdProps,placeholder:"请选择",clearable:""},model:{value:e.form.classId,callback:function(t){e.$set(e.form,"classId",t)},expression:"form.classId"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"线路",prop:"lineId"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"选择线路",clearable:""},model:{value:e.form.lineId,callback:function(t){e.$set(e.form,"lineId",t)},expression:"form.lineId"}},e._l(e.linesOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"车辆",prop:"carId"}},[a("el-radio-group",{attrs:{size:"medium"},model:{value:e.form.carId,callback:function(t){e.$set(e.form,"carId",t)},expression:"form.carId"}},e._l(e.carIdsOptions,(function(t,s){return a("el-radio",{key:s,attrs:{label:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])})),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"上车站点",prop:"siteIdUp"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"上车站点",clearable:""},model:{value:e.form.siteIdUp,callback:function(t){e.$set(e.form,"siteIdUp",t)},expression:"form.siteIdUp"}},e._l(e.siteIdsOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"下车站点",prop:"siteIdDown"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"上车站点",clearable:""},model:{value:e.form.siteIdDown,callback:function(t){e.$set(e.form,"siteIdDown",t)},expression:"form.siteIdDown"}},e._l(e.siteIdsOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"是否接送",prop:"isPickUp"}},[a("el-switch",{model:{value:e.form.isPickUp,callback:function(t){e.$set(e.form,"isPickUp",t)},expression:"form.isPickUp"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"家长电话",prop:"parentPhone"}},[a("el-input",{attrs:{placeholder:"家长电话"},model:{value:e.form.parentPhone,callback:function(t){e.$set(e.form,"parentPhone",t)},expression:"form.parentPhone"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addItem}},[e._v("增加")]),e._v(" "),e._l(e.form.dynamicItem,(function(t,s){return a("div",{key:s},[a("el-form-item",{attrs:{label:"姓名",prop:"dynamicItem."+s+".name",rules:{required:!0,message:"姓名不能为空",trigger:"blur"}}},[a("el-input",{model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"dynamicItem."+s+".phone",rules:[{required:!0,message:"手机号不能为空",trigger:"blur"},{pattern:/^1\d{10}$/,message:"目前只支持中国大陆的手机号码"}]}},[a("el-input",{model:{value:t.phone,callback:function(a){e.$set(t,"phone",a)},expression:"item.phone"}})],1),e._v(" "),a("el-form-item",[a("i",{staticClass:"el-icon-delete",on:{click:function(a){return e.deleteItem(t,s)}}})])],1)}))],2)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],i=(a("7f7f"),a("b775"));function n(e){return Object(i["a"])({url:"/api/v1/scbstudentsList",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/api/v1/scbstudents/"+e,method:"get"})}function l(e){return Object(i["a"])({url:"/api/v1/scbstudents",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/api/v1/scbstudents",method:"put",data:e})}function u(e){return Object(i["a"])({url:"/api/v1/scbstudents/"+e,method:"delete"})}var d=a("af87"),m=(a("542c"),a("5f6d")),p={name:"Scbstudents",data:function(){return{showdisabled:!1,loading:!0,pictureAction:"https://jsonplaceholder.typicode.com/posts/",picturefileList:[],linesOptions:[],siteIdsOptions:[],carIdsOptions:[],ids:[],single:!0,multiple:!0,total:0,title:"",open:!1,isEdit:!1,typeOptions:[],scbstudentsList:[],deptOptions:[],uploadDisabled:"",queryParams:{pageIndex:1,pageSize:10,id:void 0,name:void 0,number:void 0,classId:void 0,lineId:void 0,siteName:void 0,siteId:void 0,carId:void 0,parentPhone:void 0,picture:void 0,createdAt:void 0,updatedAt:void 0,isDeleted:void 0,isPickUp:void 0},form:{picture:"",dynamicItem:[]},rules:{id:[{required:!0,message:"不能为空",trigger:"blur"}],name:[{required:!0,message:"名称不能为空",trigger:"blur"}],number:[{required:!0,message:"学号不能为空",trigger:"blur"}],classId:[{required:!0,message:"请选择一个班级",trigger:"change"}],lineId:[{required:!0,message:"线路不能为空",trigger:"blur"}],siteIdUp:[{required:!0,message:"上车站点不能为空",trigger:"blur"}],siteIdDown:[{required:!0,message:"下车站点不能为空",trigger:"blur"}],carId:[{required:!0,message:"车辆id不能为空",trigger:"blur"}],parentPhone:[{required:!0,message:"家长电话不能为空",trigger:"blur"},{pattern:/^1\d{10}$/,message:"目前只支持中国大陆的手机号码"}],picture:[],isDeleted:[{required:!0,message:"0未删除 1已删除不能为空",trigger:"blur"}]},classIdProps:{multiple:!1,label:"label",value:"value",children:"children"}}},watch:{"form.lineId":"curLineChange"},created:function(){this.getList()},methods:{curLineChange:function(e){var t=this;Object(m["e"])().then((function(e){t.carIdsOptions=[];for(var a=0;a<e.data.length;a++){var s=e.data[a];t.carIdsOptions.push({label:s.carNo,value:s.id})}})),Object(m["f"])().then((function(e){t.siteIdsOptions=[];for(var a=0;a<e.data.length;a++){var s=e.data[a],r={label:s.name,value:s.id};t.siteIdsOptions.push(r)}}))},getLinesSelect:function(e){var t=this;Object(m["d"])().then((function(e){t.linesOptions=[];for(var a=0;a<e.data.length;a++){var s=e.data[a],r={label:s.name,value:s.id};t.linesOptions.push(r)}}))},getTreeselect:function(e){var t=this;Object(d["c"])().then((function(e){t.deptOptions=t.getTreeData(e.data)}))},getTreeData:function(e){for(var t=0;t<e.length;t++)e[t].children.length<1?e[t].children=void 0:this.getTreeData(e[t].children);return e},getList:function(){var e=this;this.loading=!0,n(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.scbstudentsList=t.data.list,e.total=t.data.count,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,name:void 0,number:void 0,classId:void 0,lineId:void 0,siteName:void 0,siteId:void 0,carId:void 0,parentPhone:void 0,picture:void 0,isDeleted:void 0},this.resetForm("form")},onUploadChange:function(e){var t="image/jpeg"===e.raw.type||"image/png"===e.raw.type||"image/gif"===e.raw.type;if(!t)return this.$message.error("上传文件只能是图片格式!"),!1;var a=new FileReader;a.readAsDataURL(e.raw);var s=this;a.onload=function(e){s.form.picture=this.result}},onUploadSuccess:function(e){this.picturefileList.length>0&&(this.uploadDisabled="disabled")},handleRemove:function(e,t){this.uploadDisabled=""},pictureBeforeUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("文件大小超过 2MB"),t},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.getTreeselect("add"),this.getLinesSelect("add"),this.open=!0,this.title="添加学生信息表",this.isEdit=!1,this.picture=void 0},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect("update"),this.getLinesSelect("update");var a=e.id||this.ids;this.picture=void 0,o(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改学生信息表",t.isEdit=!0,t.picturefileList=[{name:e.data.name,url:e.data.headImg}]}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.form.isPickUp?e.form.isPickUp=1:e.form.isPickUp=0,e.form.classId.length>0&&(e.form.classId=e.form.classId[e.form.classId.length-1]),void 0!==e.form.id?c(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):l(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},f=p,v=(a("e479"),a("2877")),h=Object(v["a"])(f,s,r,!1,null,"0ba874f0",null);t["default"]=h.exports},c9e1:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbcarrecord:scbcarrecord:add"],expression:"['scbcarrecord:scbcarrecord:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n            ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbcarrecord:scbcarrecord:edit"],expression:"['scbcarrecord:scbcarrecord:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改\n            ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbcarrecord:scbcarrecord:remove"],expression:"['scbcarrecord:scbcarrecord:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除\n            ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.scbcarrecordList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbcarrecord:scbcarrecord:edit"],expression:"['scbcarrecord:scbcarrecord:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改\n                ")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["scbcarrecord:scbcarrecord:remove"],expression:"['scbcarrecord:scbcarrecord:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n                ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"学生id",prop:"studentId"}},[a("el-input",{attrs:{placeholder:"学生id"},model:{value:e.form.studentId,callback:function(t){e.$set(e.form,"studentId",t)},expression:"form.studentId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车辆id",prop:"carId"}},[a("el-input",{attrs:{placeholder:"车辆id"},model:{value:e.form.carId,callback:function(t){e.$set(e.form,"carId",t)},expression:"form.carId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"线路id",prop:"siteId"}},[a("el-input",{attrs:{placeholder:"线路id"},model:{value:e.form.siteId,callback:function(t){e.$set(e.form,"siteId",t)},expression:"form.siteId"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],i=a("b775");function n(e){return Object(i["a"])({url:"/api/v1/scbcarrecordList",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/api/v1/scbcarrecord/"+e,method:"get"})}function l(e){return Object(i["a"])({url:"/api/v1/scbcarrecord",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/api/v1/scbcarrecord",method:"put",data:e})}function u(e){return Object(i["a"])({url:"/api/v1/scbcarrecord/"+e,method:"delete"})}var d={name:"Config",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,title:"",open:!1,isEdit:!1,typeOptions:[],scbcarrecordList:[],queryParams:{pageIndex:1,pageSize:10},form:{},rules:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,n(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.scbcarrecordList=t.data.list,e.total=t.data.count,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,studentId:void 0,carId:void 0,siteId:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加上下车记录表",this.isEdit=!1},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;o(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改上下车记录表",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.id?c(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):l(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},m=d,p=a("2877"),f=Object(p["a"])(m,s,r,!1,null,null,null);t["default"]=f.exports},cc6c:function(e,t,a){e.exports=a.p+"static/img/401.089007e7.gif"},ced4:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"todo",class:{completed:e.todo.done,editing:e.editing}},[a("div",{staticClass:"view"},[a("input",{staticClass:"toggle",attrs:{type:"checkbox"},domProps:{checked:e.todo.done},on:{change:function(t){return e.toggleTodo(e.todo)}}}),e._v(" "),a("label",{domProps:{textContent:e._s(e.todo.text)},on:{dblclick:function(t){e.editing=!0}}}),e._v(" "),a("button",{staticClass:"destroy",on:{click:function(t){return e.deleteTodo(e.todo)}}})]),e._v(" "),a("input",{directives:[{name:"show",rawName:"v-show",value:e.editing,expression:"editing"},{name:"focus",rawName:"v-focus",value:e.editing,expression:"editing"}],staticClass:"edit",domProps:{value:e.todo.text},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doneEdit(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancelEdit(t)}],blur:e.doneEdit}})])},r=[],i={name:"Todo",directives:{focus:function(e,t,a){var s=t.value,r=a.context;s&&r.$nextTick((function(){e.focus()}))}},props:{todo:{type:Object,default:function(){return{}}}},data:function(){return{editing:!1}},methods:{deleteTodo:function(e){this.$emit("deleteTodo",e)},editTodo:function(e){var t=e.todo,a=e.value;this.$emit("editTodo",{todo:t,value:a})},toggleTodo:function(e){this.$emit("toggleTodo",e)},doneEdit:function(e){var t=e.target.value.trim(),a=this.todo;t?this.editing&&(this.editTodo({todo:a,value:t}),this.editing=!1):this.deleteTodo({todo:a})},cancelEdit:function(e){e.target.value=this.todo.text,this.editing=!1}}},n=i,o=a("2877"),l=Object(o["a"])(n,s,r,!1,null,null,null);t["default"]=l.exports},d99d:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"岗位编码",prop:"postCode"}},[a("el-input",{attrs:{placeholder:"请输入岗位编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postCode,callback:function(t){e.$set(e.queryParams,"postCode",t)},expression:"queryParams.postCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位名称",prop:"postName"}},[a("el-input",{attrs:{placeholder:"请输入岗位名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postName,callback:function(t){e.$set(e.queryParams,"postName",t)},expression:"queryParams.postName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"岗位状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:syspost:add"],expression:"['system:syspost:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:syspost:edit"],expression:"['system:syspost:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:syspost:remove"],expression:"['system:syspost:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:syspost:export"],expression:"['system:syspost:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位编号",width:"80",align:"center",prop:"postId"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位编码",align:"center",prop:"postCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位名称",align:"center",prop:"postName"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位排序",align:"center",prop:"sort"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"1"===t.row.status?"danger":"success","disable-transitions":""}},[e._v(e._s(e.statusFormat(t.row)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:syspost:edit"],expression:"['system:syspost:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:syspost:remove"],expression:"['system:syspost:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"岗位名称",prop:"postName"}},[a("el-input",{attrs:{placeholder:"请输入岗位名称"},model:{value:e.form.postName,callback:function(t){e.$set(e.form,"postName",t)},expression:"form.postName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位编码",prop:"postCode"}},[a("el-input",{attrs:{placeholder:"请输入编码名称"},model:{value:e.form.postCode,callback:function(t){e.$set(e.form,"postCode",t)},expression:"form.postCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位顺序",prop:"sort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],i=a("b775");function n(e){return Object(i["a"])({url:"/api/v1/postlist",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/api/v1/post/"+e,method:"get"})}function l(e){return Object(i["a"])({url:"/api/v1/post",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/api/v1/post",method:"put",data:e})}function u(e){return Object(i["a"])({url:"/api/v1/post/"+e,method:"delete"})}var d=a("ed08"),m={name:"Post",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,postList:[],title:"",open:!1,statusOptions:[],queryParams:{pageIndex:1,pageSize:10,postCode:void 0,postName:void 0,status:void 0},form:{},rules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],sort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,n(this.queryParams).then((function(t){e.postList=t.data.list,e.total=t.data.count,e.loading=!1}))},statusFormat:function(e){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={postId:void 0,postCode:void 0,postName:void 0,sort:0,status:"0",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.postId})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加岗位"},handleUpdate:function(e){var t=this;this.reset();var a=e.postId||this.ids;o(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改岗位"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.postId?c(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):l(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.postId||this.ids;this.$confirm('是否确认删除岗位编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有岗位数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([a.e("chunk-23b9c8dc"),a.e("chunk-748b566e")]).then(a.bind(null,"4bf8d")).then((function(t){var a=["岗位编号","岗位编码","岗位名称","排序","创建时间"],s=["postId","postCode","postName","sort","createdAt"],r=e.postList,i=Object(d["c"])(s,r);t.export_json_to_excel({header:a,data:i,filename:"岗位管理",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,s,r,!1,null,null,null);t["default"]=v.exports},d9fb:function(e,t,a){"use strict";var s=a("9067"),r=a.n(s);r.a},df1c:function(e,t,a){},e206:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",[a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{model:{value:e.user.name,callback:function(t){e.$set(e.user,"name","string"===typeof t?t.trim():t)},expression:"user.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Email"}},[a("el-input",{model:{value:e.user.email,callback:function(t){e.$set(e.user,"email","string"===typeof t?t.trim():t)},expression:"user.email"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("Update")])],1)],1)},r=[],i={props:{user:{type:Object,default:function(){return{name:"",email:""}}}},methods:{submit:function(){this.$message({message:"User information has been updated successfully",type:"success",duration:5e3})}}},n=i,o=a("2877"),l=Object(o["a"])(n,s,r,!1,null,null,null);t["default"]=l.exports},e479:function(e,t,a){"use strict";var s=a("acc5"),r=a.n(s);r.a},eb43:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"参数名称",prop:"configName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入参数名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.configName,callback:function(t){e.$set(e.queryParams,"configName",t)},expression:"queryParams.configName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参数键名",prop:"configKey"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入参数键名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.configKey,callback:function(t){e.$set(e.queryParams,"configKey",t)},expression:"queryParams.configKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"系统内置",prop:"configType"}},[a("el-select",{attrs:{placeholder:"系统内置",clearable:"",size:"small"},model:{value:e.queryParams.configType,callback:function(t){e.$set(e.queryParams,"configType",t)},expression:"queryParams.configType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysconfig:add"],expression:"['system:sysconfig:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysconfig:edit"],expression:"['system:sysconfig:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysconfig:remove"],expression:"['system:sysconfig:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysconfig:export"],expression:"['system:sysconfig:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.configList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"参数主键",width:"80",align:"center",prop:"configId"}}),e._v(" "),a("el-table-column",{attrs:{label:"参数名称",align:"center",prop:"configName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"参数键名",align:"center",prop:"configKey","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"参数键值",align:"center",prop:"configValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"系统内置",align:"center",prop:"configType",formatter:e.typeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysconfig:edit"],expression:"['system:sysconfig:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysconfig:remove"],expression:"['system:sysconfig:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"参数名称",prop:"configName"}},[a("el-input",{attrs:{placeholder:"请输入参数名称",disabled:e.isEdit},model:{value:e.form.configName,callback:function(t){e.$set(e.form,"configName",t)},expression:"form.configName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参数键名",prop:"configKey"}},[a("el-input",{attrs:{placeholder:"请输入参数键名",disabled:e.isEdit},model:{value:e.form.configKey,callback:function(t){e.$set(e.form,"configKey",t)},expression:"form.configKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参数键值",prop:"configValue"}},[a("el-input",{attrs:{placeholder:"请输入参数键值"},model:{value:e.form.configValue,callback:function(t){e.$set(e.form,"configValue",t)},expression:"form.configValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"系统内置",prop:"configType"}},[a("el-radio-group",{model:{value:e.form.configType,callback:function(t){e.$set(e.form,"configType",t)},expression:"form.configType"}},e._l(e.typeOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],i=a("c0c3"),n=a("ed08"),o={name:"Config",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,configList:[],title:"",isEdit:!1,open:!1,typeOptions:[],dateRange:[],queryParams:{pageIndex:1,pageSize:10,configName:void 0,configKey:void 0,configType:void 0},form:{},rules:{configName:[{required:!0,message:"参数名称不能为空",trigger:"blur"}],configKey:[{required:!0,message:"参数键名不能为空",trigger:"blur"}],configValue:[{required:!0,message:"参数键值不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_yes_no").then((function(t){e.typeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(i["e"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.configList=t.data.list,e.total=t.data.count,e.loading=!1}))},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.configType)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={configId:void 0,configName:void 0,configKey:void 0,configValue:void 0,configType:"Y",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加参数",this.isEdit=!1},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.configId})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.configId||this.ids;Object(i["c"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改参数",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.configId?Object(i["f"])(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(i["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.configId||this.ids;this.$confirm('是否确认删除参数编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this;this.$confirm("是否确认导出所有参数数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.downloadLoading=!0,Promise.all([a.e("chunk-23b9c8dc"),a.e("chunk-748b566e")]).then(a.bind(null,"4bf8d")).then((function(t){var a=["参数主键","参数名称","参数键名","参数键值","备注","创建时间"],s=["configId","configName","configKey","configValue","remark","createdAt"],r=e.configList,i=Object(n["c"])(s,r);t.export_json_to_excel({header:a,data:i,filename:"参数设置",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1}))}))}}},l=o,c=a("2877"),u=Object(c["a"])(l,s,r,!1,null,null,null);t["default"]=u.exports},ebe1:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"inline-block"}},[a("label",{staticClass:"radio-label"},[e._v("Book Type: ")]),e._v(" "),a("el-select",{staticStyle:{width:"120px"},model:{value:e.bookType,callback:function(t){e.bookType=t},expression:"bookType"}},e._l(e.options,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)},r=[],i={props:{value:{type:String,default:"xlsx"}},data:function(){return{options:["xlsx","csv","txt"]}},computed:{bookType:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},n=i,o=a("2877"),l=Object(o["a"])(n,s,r,!1,null,null,null);t["default"]=l.exports},ecac:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6,xs:24}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("个人信息")])]),e._v(" "),a("div",[a("div",{staticClass:"text-center"},[a("userAvatar",{attrs:{user:e.user}})],1),e._v(" "),a("ul",{staticClass:"list-group list-group-striped"},[a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"user"}}),e._v("用户名称\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.username))])],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"phone"}}),e._v("手机号码\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.phone))])],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"email"}}),e._v("用户邮箱\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.email))])],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"tree"}}),e._v("所属部门\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.deptName))])],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"peoples"}}),e._v("所属角色\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.roleName))])],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"date"}}),e._v("创建日期\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.createdAt))])],1)])])])],1),e._v(" "),a("el-col",{attrs:{span:18,xs:24}},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("基本资料")])]),e._v(" "),a("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"基本资料",name:"userinfo"}},[a("userInfo",{attrs:{user:e.user}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"修改密码",name:"resetPwd"}},[a("resetPwd",{attrs:{user:e.user}})],1)],1)],1)],1)],1)],1)},r=[],i=a("88c9"),n=a("2dde"),o=a("3823"),l=a("b150"),c={name:"Profile",components:{userAvatar:i["default"],userInfo:n["default"],resetPwd:o["default"]},data:function(){return{user:{},roleGroup:{},postGroup:{},deptGroup:{},activeTab:"userinfo",roleIds:void 0,postIds:void 0,roleName:void 0,postName:void 0,dept:{},deptName:void 0}},created:function(){this.getUser()},methods:{getUser:function(){var e=this;Object(l["g"])().then((function(t){if(e.user=t.data,e.roleIds=t.roleIds,e.roleGroup=t.roles,e.roleIds[0])for(var a in e.roleGroup)e.roleIds[0]===e.roleGroup[a].roleId&&(e.roleName=e.roleGroup[a].roleName);else e.roleName="暂无";e.dept=t.dept,e.deptName=e.dept.deptName}))}}},u=c,d=a("2877"),m=Object(d["a"])(u,s,r,!1,null,null,null);t["default"]=m.exports},ed45:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return n})),a.d(t,"f",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"e",(function(){return c}));var s=a("b775");function r(e){return Object(s["a"])({url:"/api/v1/dict/typelist",method:"get",params:e})}function i(e){return Object(s["a"])({url:"/api/v1/dict/type/"+e,method:"get"})}function n(e){return Object(s["a"])({url:"/api/v1/dict/type",method:"post",data:e})}function o(e){return Object(s["a"])({url:"/api/v1/dict/type",method:"put",data:e})}function l(e){return Object(s["a"])({url:"/api/v1/dict/type/"+e,method:"delete"})}function c(){return Object(s["a"])({url:"/api/v1/dict/typeoptionselect",method:"get"})}},ef3c:function(e,t,a){"use strict";a.r(t);a("a481");var s,r,i={created:function(){var e=this.$route,t=e.params,a=e.query,s=t.path;this.$router.replace({path:"/"+s,query:a})},render:function(e){return e()}},n=i,o=a("2877"),l=Object(o["a"])(n,s,r,!1,null,null,null);t["default"]=l.exports},f184:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"线路",prop:"lineId"}},[a("el-input",{attrs:{placeholder:"请选择线路",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.lineId,callback:function(t){e.$set(e.queryParams,"lineId",t)},expression:"queryParams.lineId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["schsites:schsites:add"],expression:"['schsites:schsites:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n      ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["schsites:schsites:edit"],expression:"['schsites:schsites:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改\n      ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["schsites:schsites:remove"],expression:"['schsites:schsites:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除\n      ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.schsitesList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",align:"center",prop:"name","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"线路",align:"center",prop:"lineName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"用途",align:"center",prop:"purpose","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"站点属性",align:"center",prop:"propName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"到达时间",align:"center",prop:"arriveAt","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"排序",align:"center",prop:"sort","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["schsites:schsites:edit"],expression:"['schsites:schsites:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改\n        ")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["schsites:schsites:remove"],expression:"['schsites:schsites:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageIndex,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"线路",prop:"lineId"}},[a("el-cascader",{style:{width:"100%"},attrs:{options:e.linesOptions,props:e.lineIdProps,placeholder:"请选择线路",clearable:""},model:{value:e.form.lineId,callback:function(t){e.$set(e.form,"lineId",t)},expression:"form.lineId"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{position:"absolute",right:"10px","z-index":"5"},attrs:{span:15}},[a("el-form-item",{attrs:{label:"位置",prop:"address"}},[a("el-input",{attrs:{placeholder:"搜索地址",clearable:""},model:{value:e.addressKeyword,callback:function(t){e.addressKeyword=t},expression:"addressKeyword"}}),e._v(" "),a("div",{staticClass:"address"},[a("baidu-map",{staticClass:"bmView",attrs:{"scroll-wheel-zoom":!0,center:e.location,zoom:e.zoom},on:{click:e.getLocationPoint}},[a("bm-geolocation",{attrs:{anchor:"BMAP_ANCHOR_BOTTOM_RIGHT","show-address-bar":!0,"auto-location":!0}}),e._v(" "),a("bm-view",{staticStyle:{width:"100%",height:"400px",flex:"1"}}),e._v(" "),a("bm-local-search",{attrs:{keyword:e.addressKeyword,panel:!0,"page-capacity":5,"select-first-result":!0,"auto-viewport":!0}}),e._v(" "),a("bm-navigation",{attrs:{anchor:"BMAP_ANCHOR_TOP_RIGHT"}})],1)],1),e._v(" "),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"经度",prop:"longitude"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"经度",readonly:""},model:{value:e.form.longitude,callback:function(t){e.$set(e.form,"longitude",t)},expression:"form.longitude"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"纬度",prop:"latitude"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"纬度",readonly:""},model:{value:e.form.latitude,callback:function(t){e.$set(e.form,"latitude",t)},expression:"form.latitude"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"详细地址",prop:"address"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"详细地址",readonly:""},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"用途",prop:"purpose"}},[a("el-input",{attrs:{placeholder:"用途"},model:{value:e.form.purpose,callback:function(t){e.$set(e.form,"purpose",t)},expression:"form.purpose"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input",{attrs:{placeholder:"排序"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"站点属性",prop:"prop"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"选择站点属性",clearable:""},model:{value:e.form.prop,callback:function(t){e.$set(e.form,"prop",t)},expression:"form.prop"}},e._l(e.attrsOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"到达时间",prop:"arriveAt"}},[a("el-time-picker",{style:{width:"100%"},attrs:{format:"HH:mm:ss","value-format":"HH:mm:ss","picker-options":{selectableRange:"00:00:00-23:59:59"},placeholder:"请选择到达时间",clearable:""},model:{value:e.form.arriveAt,callback:function(t){e.$set(e.form,"arriveAt",t)},expression:"form.arriveAt"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{placeholder:"备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"图片",prop:"picture"}},[a("el-upload",{ref:"picture",attrs:{"file-list":e.picturefileList,action:e.pictureAction,"auto-upload":!1,"before-upload":e.pictureBeforeUpload,"on-change":e.onUploadChange,"list-type":"picture-card",accept:"image/*",name:"picture"}},[a("i",{staticClass:"el-icon-plus"}),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传不超过 2MB 的图片文件")])])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],i=(a("7f7f"),a("b775"));function n(e){return Object(i["a"])({url:"/api/v1/schsitesList",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/api/v1/schsites/"+e,method:"get"})}function l(e){return Object(i["a"])({url:"/api/v1/schsites",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/api/v1/schsites",method:"put",data:e})}function u(e){return Object(i["a"])({url:"/api/v1/schsites/"+e,method:"delete"})}var d=a("ca17"),m=a.n(d),p=a("5f6d"),f=(a("542c"),{name:"Schsites",components:{Treeselect:m.a},data:function(){return{map:"",location:{lng:116.404,lat:39.915},zoom:12.8,addressKeyword:"",pictureAction:"https://jsonplaceholder.typicode.com/posts/",picturefileList:[],linesOptions:[],attrsOptions:[{value:1,label:"上车"},{value:2,label:"下车"}],loading:!0,ids:[],single:!0,multiple:!0,total:0,title:"",open:!1,isEdit:!1,typeOptions:[],schsitesList:[],queryParams:{pageIndex:1,pageSize:10,id:void 0,lineId:void 0,name:void 0,purpose:void 0,sort:void 0,prop:void 0,arriveAt:void 0,remark:void 0,longitude:void 0,latitude:void 0,picture:void 0,createdAt:void 0,updatedAt:void 0},form:{},rules:{id:[{required:!0,message:"不能为空",trigger:"blur"}],lineId:[{required:!0,message:"请选择一条线路",trigger:"change"}],name:[{required:!0,message:"名称不能为空",trigger:"blur"}],purpose:[{required:!0,message:"用途不能为空",trigger:"blur"}],sort:[{required:!0,message:"排序不能为空",trigger:"blur"}],prop:[{required:!0,message:"站点属性不能为空",trigger:"blur"}],arriveAt:[{required:!0,message:"到达时间不能为空",trigger:"blur"}],remark:[{required:!0,message:"备注不能为空",trigger:"blur"}],longitude:[{required:!0,message:"经度不能为空",trigger:"blur"}],latitude:[{required:!0,message:"维度不能为空",trigger:"blur"}],picture:[],createdAt:[{required:!0,message:"创建时间不能为空",trigger:"blur"}],updatedAt:[{required:!0,message:"更新时间不能为空",trigger:"blur"}]},lineIdProps:{multiple:!1,label:"name",value:"id",children:"children"}}},created:function(){this.getList()},mounted:function(){},methods:{getLocationPoint:function(e){var t=this;this.lng=e.point.lng,this.lat=e.point.lat;var a=new BMap.Geocoder;a.getPoint(this.addressKeyword,(function(e){t.lng=e.lng,t.lat=e.lat})),a.getLocation(e.point,(function(e){console.log("getLocation...."),console.log(e),t.form.address=e.address,t.form.longitude=e.point.lng,t.form.latitude=e.point.lat}))},handler:function(e){e.BMap,e.map;this.center.lng=116.404,this.center.lat=39.915,this.zoom=15},querySearchAsync:function(e,t){this.addressKeyword=e},onUploadChange:function(e){var t="image/jpeg"===e.raw.type||"image/png"===e.raw.type||"image/gif"===e.raw.type;if(!t)return this.$message.error("上传文件只能是图片格式!"),!1;var a=new FileReader;a.readAsDataURL(e.raw);var s=this;a.onload=function(e){console.log(this.result),s.form.picture=this.result}},pictureBeforeUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("文件大小超过 2MB"),t},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.name,children:e.children}},getList:function(){var e=this;this.loading=!0,n(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.schsitesList=t.data.list,e.total=t.data.count,e.loading=!1}))},getTreeselect:function(e){var t=this;Object(p["d"])().then((function(e){t.linesOptions=[];for(var a=0;a<e.data.length;a++){var s=e.data[a],r={label:s.name,value:s.id};t.linesOptions.push(r)}}))},getTreeData:function(e){for(var t=0;t<e.length;t++)e[t].children.length<1?e[t].children=void 0:this.getTreeData(e[t].children);return e},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,lineId:void 0,name:void 0,purpose:void 0,sort:void 0,prop:void 0,arriveAt:void 0,remark:void 0,longitude:void 0,latitude:void 0,picture:void 0,isDelete:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageIndex=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加站点管理",this.isEdit=!1,this.getTreeselect("add")},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;o(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改站点管理",t.isEdit=!0})),this.getTreeselect("update")},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.form.lineId.length>0&&(e.form.lineId=e.form.classId[e.form.lineId.length-1]),void 0!==e.form.id?c(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):l(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),v=f,h=(a("2707"),a("2877")),b=Object(h["a"])(v,s,r,!1,null,"03d8b037",null);t["default"]=b.exports},f37e:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"部门名称"}},[a("el-input",{attrs:{placeholder:"请输入部门名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.deptName,callback:function(t){e.$set(e.queryParams,"deptName",t)},expression:"queryParams.deptName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"部门状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysdept:add"],expression:"['system:sysdept:add']"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.deptList,"row-key":"deptId","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"deptName",label:"部门名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",formatter:e.statusFormat,width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"1"===t.row.status?"danger":"success","disable-transitions":""}},[e._v(e._s(e.statusFormat(t.row)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysdept:edit"],expression:"['system:sysdept:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysdept:add"],expression:"['system:sysdept:add']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")]),e._v(" "),0!=t.row.p_id?a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysdept:remove"],expression:"['system:sysdept:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上级部门",prop:"parentId"}},[a("treeselect",{attrs:{options:e.deptOptions,normalizer:e.normalizer,"show-count":!0,placeholder:"选择上级部门","is-disabled":e.isEdit},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门名称",prop:"deptName"}},[a("el-input",{attrs:{placeholder:"请输入部门名称"},model:{value:e.form.deptName,callback:function(t){e.$set(e.form,"deptName",t)},expression:"form.deptName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"orderNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"负责人",prop:"leader"}},[a("el-input",{attrs:{placeholder:"请输入负责人",maxlength:"20"},model:{value:e.form.leader,callback:function(t){e.$set(e.form,"leader",t)},expression:"form.leader"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入联系电话",maxlength:"11"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],i=a("fcb7"),n=a("ca17"),o=a.n(n),l=(a("542c"),{name:"Dept",components:{Treeselect:o.a},data:function(){return{loading:!0,deptList:[],deptOptions:[],title:"",isEdit:!1,open:!1,statusOptions:[],queryParams:{deptName:void 0,status:void 0},form:{},rules:{parentId:[{required:!0,message:"上级部门不能为空",trigger:"blur"}],deptName:[{required:!0,message:"部门名称不能为空",trigger:"blur"}],sort:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}],email:[{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(i["d"])(this.queryParams).then((function(t){e.deptList=t.data,e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.deptId,label:e.deptName,children:e.children}},getTreeselect:function(e){var t=this;Object(i["d"])().then((function(a){if(t.deptOptions=[],"update"===e){var s={deptId:0,deptName:"主类目",children:[],isDisabled:!0};s.children=a.data,t.deptOptions.push(s)}else{var r={deptId:0,deptName:"主类目",children:[]};r.children=a.data,t.deptOptions.push(r)}}))},statusFormat:function(e){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={deptId:void 0,parentId:void 0,deptName:void 0,sorc:void 0,leader:void 0,phone:void 0,email:void 0,status:"0"}},handleQuery:function(){this.getList()},handleAdd:function(e){this.reset(),this.getTreeselect("add"),void 0!==e&&(this.form.parentId=e.deptId),this.open=!0,this.title="添加部门",this.isEdit=!1},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect("update"),Object(i["c"])(e.deptId).then((function(e){t.form=e.data,t.open=!0,t.title="修改部门",t.isEdit=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.deptId?Object(i["g"])(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(i["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除名称为"'+e.deptName+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["b"])(e.deptId)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),c=l,u=a("2877"),d=Object(u["a"])(c,s,r,!1,null,null,null);t["default"]=d.exports},f729:function(e,t,a){},f7ef:function(e,t,a){"use strict";var s=a("7ebc"),r=a.n(s);r.a},f833:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"菜单名称"}},[a("el-input",{attrs:{placeholder:"请输入菜单名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"菜单状态",clearable:"",size:"small"},model:{value:e.queryParams.visible,callback:function(t){e.$set(e.queryParams,"visible",t)},expression:"queryParams.visible"}},e._l(e.visibleOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysmenu:add"],expression:"['system:sysmenu:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.menuList,"row-key":"menuId","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"title",label:"菜单名称","show-overflow-tooltip":!0,width:"180px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"icon",label:"图标",align:"center",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("svg-icon",{attrs:{"icon-class":e.row.icon}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序",width:"60px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"permission",label:"权限标识","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"path",label:"路径","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return["A"==t.row.menuType?a("span",[e._v(e._s(t.row.path))]):a("span",[e._v(e._s(t.row.component))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"visible",label:"可见",formatter:e.visibleFormat,width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"1"===t.row.visible?"danger":"success","disable-transitions":""}},[e._v(e._s(e.visibleFormat(t.row)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createdAt",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createdAt)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysmenu:edit"],expression:"['system:sysmenu:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysmenu:add"],expression:"['system:sysmenu:add']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")]),e._v(" "),a("el-button",{directives:[{name:"permisaction",rawName:"v-permisaction",value:["system:sysmenu:remove"],expression:"['system:sysmenu:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上级菜单"}},[a("treeselect",{attrs:{options:e.menuOptions,normalizer:e.normalizer,"show-count":!0,placeholder:"选择上级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"菜单标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入菜单标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"sort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"菜单类型",prop:"menuType"}},[a("el-radio-group",{model:{value:e.form.menuType,callback:function(t){e.$set(e.form,"menuType",t)},expression:"form.menuType"}},[a("el-radio",{attrs:{label:"M"}},[e._v("目录")]),e._v(" "),a("el-radio",{attrs:{label:"C"}},[e._v("菜单")]),e._v(" "),a("el-radio",{attrs:{label:"F"}},[e._v("按钮")]),e._v(" "),a("el-radio",{attrs:{label:"A"}},[e._v("接口")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},["A"==e.form.menuType?a("el-form-item",{attrs:{label:"请求方式"}},[a("el-radio-group",{model:{value:e.form.action,callback:function(t){e.$set(e.form,"action",t)},expression:"form.action"}},[a("el-radio",{attrs:{label:"GET"}},[e._v("GET")]),e._v(" "),a("el-radio",{attrs:{label:"POST"}},[e._v("POST")]),e._v(" "),a("el-radio",{attrs:{label:"PUT"}},[e._v("PUT")]),e._v(" "),a("el-radio",{attrs:{label:"DELETE"}},[e._v("DELETE")])],1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"菜单图标"}},[a("el-popover",{attrs:{placement:"bottom-start",width:"460",trigger:"click"},on:{show:function(t){return e.$refs["iconSelect"].reset()}}},[a("IconSelect",{ref:"iconSelect",on:{selected:e.selected}}),e._v(" "),a("el-input",{attrs:{slot:"reference",placeholder:"点击选择图标",readonly:""},slot:"reference",model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}},[e.form.icon?a("svg-icon",{staticClass:"el-input__icon",staticStyle:{height:"32px",width:"16px"},attrs:{slot:"prefix","icon-class":e.form.icon},slot:"prefix"}):a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},slot:"prefix"})],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},["M"==e.form.menuType||"C"==e.form.menuType?a("el-form-item",{attrs:{label:"路由名称",prop:"menuName"}},[a("el-input",{attrs:{placeholder:"请输入路由名称"},model:{value:e.form.menuName,callback:function(t){e.$set(e.form,"menuName",t)},expression:"form.menuName"}})],1):e._e()],1),e._v(" "),"M"==e.form.menuType||"C"==e.form.menuType?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"组件路径",prop:"component"}},[a("el-input",{attrs:{placeholder:"请输入组件路径"},model:{value:e.form.component,callback:function(t){e.$set(e.form,"component",t)},expression:"form.component"}})],1)],1):e._e(),e._v(" "),a("el-col",{attrs:{span:12}},["M"==e.form.menuType||"C"==e.form.menuType?a("el-form-item",{attrs:{label:"是否外链"}},[a("el-radio-group",{model:{value:e.form.isFrame,callback:function(t){e.$set(e.form,"isFrame",t)},expression:"form.isFrame"}},[a("el-radio",{attrs:{label:"0"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("否")])],1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},["F"!=e.form.menuType?a("el-form-item",{attrs:{label:"路由地址",prop:"path"}},[a("el-input",{attrs:{placeholder:"请输入路由地址"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},["F"==e.form.menuType||"C"==e.form.menuType?a("el-form-item",{attrs:{label:"权限标识"}},[a("el-input",{attrs:{placeholder:"请权限标识",maxlength:"50"},model:{value:e.form.permission,callback:function(t){e.$set(e.form,"permission",t)},expression:"form.permission"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:24}},["F"!=e.form.menuType?a("el-form-item",{attrs:{label:"菜单状态"}},[a("el-radio-group",{model:{value:e.form.visible,callback:function(t){e.$set(e.form,"visible",t)},expression:"form.visible"}},e._l(e.visibleOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1):e._e()],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],i=a("a6dc"),n=a("ca17"),o=a.n(n),l=(a("542c"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon-body"},[a("el-input",{staticStyle:{position:"relative"},attrs:{clearable:"",placeholder:"请输入图标名称"},on:{clear:e.filterIcons},nativeOn:{input:function(t){return e.filterIcons(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},slot:"suffix"})]),e._v(" "),a("div",{staticClass:"icon-list"},e._l(e.iconList,(function(t,s){return a("div",{key:s,on:{click:function(a){return e.selectedIcon(t)}}},[a("svg-icon",{staticStyle:{height:"30px",width:"16px"},attrs:{"icon-class":t}}),e._v(" "),a("span",[e._v(e._s(t))])],1)})),0)],1)}),c=[],u=(a("6762"),a("2fdb"),a("7f7f"),a("4917"),a("ac6a"),a("51ff")),d=function(e){return e.keys()},m=/\.\/(.*)\.svg/,p=d(u).map((function(e){return e.match(m)[1]})),f=p,v={name:"IconSelect",data:function(){return{name:"",iconList:f}},methods:{filterIcons:function(){var e=this;this.name?this.iconList=this.iconList.filter((function(t){return t.includes(e.name)})):this.iconList=f},selectedIcon:function(e){this.$emit("selected",e),document.body.click()},reset:function(){this.name="",this.iconList=f}}},h=v,b=(a("aa5a"),a("2877")),g=Object(b["a"])(h,l,c,!1,null,"29eae0d6",null),y=g.exports,_={name:"Menu",components:{Treeselect:o.a,IconSelect:y},data:function(){return{loading:!0,menuList:[],menuOptions:[],title:"",open:!1,visibleOptions:[],queryParams:{title:void 0,visible:void 0},form:{},rules:{title:[{required:!0,message:"菜单标题不能为空",trigger:"blur"}],sort:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_show_hide").then((function(t){e.visibleOptions=t.data}))},methods:{selected:function(e){this.form.icon=e},getList:function(){var e=this;this.loading=!0,Object(i["d"])(this.queryParams).then((function(t){e.menuList=t.data,e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.menuId,label:e.title,children:e.children}},getTreeselect:function(){var e=this;Object(i["d"])().then((function(t){e.menuOptions=[];var a={menuId:0,title:"主类目",children:[]};a.children=t.data,e.menuOptions.push(a)}))},visibleFormat:function(e){return"F"===e.menuType?"-- --":this.selectDictLabel(this.visibleOptions,e.visible)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={menuId:void 0,parentId:0,menuName:void 0,icon:void 0,menuType:"M",sort:0,action:"A"===this.form.menuType?this.form.action:"",isFrame:"1",visible:"0"},this.resetForm("form")},handleQuery:function(){this.getList()},handleAdd:function(e){this.reset(),this.getTreeselect(),null!=e&&(this.form.parentId=e.menuId),this.open=!0,this.title="添加菜单"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),Object(i["c"])(e.menuId).then((function(e){t.form=e.data,t.open=!0,t.title="修改菜单"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!==e.form.menuId?Object(i["g"])(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(i["a"])(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除名称为"'+e.title+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["b"])(e.menuId)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},w=_,x=Object(b["a"])(w,s,r,!1,null,null,null);t["default"]=x.exports},fb8d:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-timeline",e._l(e.timeline,(function(t,s){return a("el-timeline-item",{key:s,attrs:{timestamp:t.timestamp,placement:"top"}},[a("el-card",[a("h4",[e._v(e._s(t.title))]),e._v(" "),a("p",[e._v(e._s(t.content))])])],1)})),1)],1)},r=[],i={data:function(){return{timeline:[{timestamp:"2019/4/20",title:"Update Github template",content:"PanJiaChen committed 2019/4/20 20:46"},{timestamp:"2019/4/21",title:"Update Github template",content:"PanJiaChen committed 2019/4/21 20:46"},{timestamp:"2019/4/22",title:"Build Template",content:"PanJiaChen committed 2019/4/22 20:46"},{timestamp:"2019/4/23",title:"Release New Version",content:"PanJiaChen committed 2019/4/23 20:46"}]}}},n=i,o=a("2877"),l=Object(o["a"])(n,s,r,!1,null,null,null);t["default"]=l.exports},fbf4:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"genInfoForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"tplCategory"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("生成模板")]),e._v(" "),a("el-select",{model:{value:e.info.tplCategory,callback:function(t){e.$set(e.info,"tplCategory",t)},expression:"info.tplCategory"}},[a("el-option",{attrs:{label:"单表（增删改查）",value:"crud"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"packageName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          生成包路径\n          "),a("el-tooltip",{attrs:{content:"文件夹路径名，例如 user",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{model:{value:e.info.packageName,callback:function(t){e.$set(e.info,"packageName",t)},expression:"info.packageName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"moduleName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          生成模块名\n          "),a("el-tooltip",{attrs:{content:"可理解为子系统名，例如 system",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{model:{value:e.info.moduleName,callback:function(t){e.$set(e.info,"moduleName",t)},expression:"info.moduleName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"businessName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          生成业务名\n          "),a("el-tooltip",{attrs:{content:"可理解为功能英文名，例如 user",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{model:{value:e.info.businessName,callback:function(t){e.$set(e.info,"businessName",t)},expression:"info.businessName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"functionName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          生成功能名\n          "),a("el-tooltip",{attrs:{content:"用作类描述，例如 用户",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{model:{value:e.info.functionName,callback:function(t){e.$set(e.info,"functionName",t)},expression:"info.functionName"}})],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:"tree"==e.info.tplCategory,expression:"info.tplCategory == 'tree'"}]},[a("h4",{staticClass:"form-header"},[e._v("其他信息")]),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          树编码字段\n          "),a("el-tooltip",{attrs:{content:"树显示的编码字段名， 如：dept_id",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeCode,callback:function(t){e.$set(e.info,"treeCode",t)},expression:"info.treeCode"}},e._l(e.info.columns,(function(e){return a("el-option",{key:e.columnName,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          树父编码字段\n          "),a("el-tooltip",{attrs:{content:"树显示的父编码字段名， 如：parent_Id",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeParentCode,callback:function(t){e.$set(e.info,"treeParentCode",t)},expression:"info.treeParentCode"}},e._l(e.info.columns,(function(e){return a("el-option",{key:e.columnName,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          树名称字段\n          "),a("el-tooltip",{attrs:{content:"树节点的显示名称字段名， 如：dept_name",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeName,callback:function(t){e.$set(e.info,"treeName",t)},expression:"info.treeName"}},e._l(e.info.columns,(function(e){return a("el-option",{key:e.columnName,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1)],1)],1)},r=[],i={name:"BasicInfoForm",props:{info:{type:Object,default:null}},data:function(){return{rules:{tplCategory:[{required:!0,message:"请选择生成模板",trigger:"blur"}],packageName:[{required:!0,message:"请输入生成包路径",trigger:"blur"}],moduleName:[{required:!0,message:"请输入生成模块名",trigger:"blur"}],businessName:[{required:!0,message:"请输入生成业务名",trigger:"blur"}],functionName:[{required:!0,message:"请输入生成功能名",trigger:"blur"}]}}},created:function(){}},n=i,o=a("2877"),l=Object(o["a"])(n,s,r,!1,null,null,null);t["default"]=l.exports},fcb7:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"f",(function(){return n})),a.d(t,"e",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"g",(function(){return c})),a.d(t,"b",(function(){return u}));var s=a("b775");function r(e){return Object(s["a"])({url:"/api/v1/deptList",method:"get",params:e})}function i(e){return Object(s["a"])({url:"/api/v1/dept/"+e,method:"get"})}function n(){return Object(s["a"])({url:"/api/v1/deptTree",method:"get"})}function o(e){return Object(s["a"])({url:"/api/v1/roleDeptTreeselect/"+e,method:"get"})}function l(e){return Object(s["a"])({url:"/api/v1/dept",method:"post",data:e})}function c(e){return Object(s["a"])({url:"/api/v1/dept",method:"put",data:e})}function u(e){return Object(s["a"])({url:"/api/v1/dept/"+e,method:"delete"})}}}]);